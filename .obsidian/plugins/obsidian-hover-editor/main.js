/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var aa=Object.create;var Nt=Object.defineProperty;var sa=Object.getOwnPropertyDescriptor;var la=Object.getOwnPropertyNames;var ca=Object.getPrototypeOf,ua=Object.prototype.hasOwnProperty;var fi=m=>Nt(m,"__esModule",{value:!0});var hi=(m,c)=>()=>(c||m((c={exports:{}}).exports,c),c.exports),da=(m,c)=>{fi(m);for(var u in c)Nt(m,u,{get:c[u],enumerable:!0})},pa=(m,c,u)=>{if(c&&typeof c=="object"||typeof c=="function")for(let h of la(c))!ua.call(m,h)&&h!=="default"&&Nt(m,h,{get:()=>c[h],enumerable:!(u=sa(c,h))||u.enumerable});return m},it=m=>pa(fi(Nt(m!=null?aa(ca(m)):{},"default",m&&m.__esModule&&"default"in m?{get:()=>m.default,enumerable:!0}:{value:m,enumerable:!0})),m);var gi=hi((vi,Dn)=>{(function(m){typeof vi=="object"&&typeof Dn!="undefined"?Dn.exports=m():typeof define=="function"&&define.amd?define([],m):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).interact=m()})(function(){var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.init=b,c.getWindow=function(e){return(0,m.default)(e)?e:(e.ownerDocument||e).defaultView||h.window},c.window=c.realWindow=void 0;var u=void 0;c.realWindow=u;var h=void 0;function b(e){c.realWindow=u=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),c.window=h=e}c.window=h,typeof window!="undefined"&&window&&b(window);var f={};function P(e){return(P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var S=function(e){return!!e&&P(e)==="object"},I=function(e){return typeof e=="function"},A={window:function(e){return e===c.window||(0,m.default)(e)},docFrag:function(e){return S(e)&&e.nodeType===11},object:S,func:I,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||P(e)!=="object")return!1;var t=c.getWindow(e)||c.window;return/object|function/.test(P(t.Element))?e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return S(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return S(e)&&e.length!==void 0&&I(e.splice)}};f.default=A;var X={};function O(e){var t=e.interaction;if(t.prepared.name==="drag"){var o=t.prepared.axis;o==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):o==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function q(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="drag"){var n=o.prepared.axis;if(n==="x"||n==="y"){var i=n==="x"?"y":"x";t.page[i]=o.coords.start.page[i],t.client[i]=o.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var V={id:"actions/drag",install:function(e){var t=e.actions,o=e.Interactable,n=e.defaults;o.prototype.draggable=V.draggable,t.map.drag=V,t.methodDict.drag="draggable",n.actions.drag=V.defaults},listeners:{"interactions:before-action-move":O,"interactions:action-resume":O,"interactions:action-move":q,"auto-start:check":function(e){var t=e.interaction,o=e.interactable,n=e.buttons,i=o.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(n&o.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:function(e){return f.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):f.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:O,move:q,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},B=V;X.default=B;var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var z={init:function(e){var t=e;z.document=t.document,z.DocumentFragment=t.DocumentFragment||te,z.SVGElement=t.SVGElement||te,z.SVGSVGElement=t.SVGSVGElement||te,z.SVGElementInstance=t.SVGElementInstance||te,z.Element=t.Element||te,z.HTMLElement=t.HTMLElement||z.Element,z.Event=t.Event,z.Touch=t.Touch||te,z.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function te(){}var ue=z;j.default=ue;var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var ne={init:function(e){var t=j.default.Element,o=e.navigator||{};ne.supportsTouch="ontouchstart"in e||f.default.func(e.DocumentTouch)&&j.default.document instanceof e.DocumentTouch,ne.supportsPointerEvent=o.pointerEnabled!==!1&&!!j.default.PointerEvent,ne.isIOS=/iP(hone|od|ad)/.test(o.platform),ne.isIOS7=/iP(hone|od|ad)/.test(o.platform)&&/OS 7[^\d]/.test(o.appVersion),ne.isIe9=/MSIE 9/.test(o.userAgent),ne.isOperaMobile=o.appName==="Opera"&&ne.supportsTouch&&/Presto/.test(o.userAgent),ne.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",ne.pEventTypes=ne.supportsPointerEvent?j.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ne.wheelEvent=j.default.document&&"onmousewheel"in j.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Kt=ne;G.default=Kt;var C={};function lt(e){var t=e.parentNode;if(f.default.docFrag(t)){for(;(t=t.host)&&f.default.docFrag(t););return t}return t}function ct(e,t){return c.window!==c.realWindow&&(t=t.replace(/\/deep\//g," ")),e[G.default.prefixedMatchesSelector](t)}Object.defineProperty(C,"__esModule",{value:!0}),C.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},C.closest=function(e,t){for(;f.default.element(e);){if(ct(e,t))return e;e=lt(e)}return null},C.parentNode=lt,C.matchesSelector=ct,C.indexOfDeepestElement=function(e){for(var t,o=[],n=0;n<e.length;n++){var i=e[n],r=e[t];if(i&&n!==t)if(r){var l=Qt(i),a=Qt(r);if(l!==i.ownerDocument)if(a!==i.ownerDocument)if(l!==a){o=o.length?o:Vn(r);var s=void 0;if(r instanceof j.default.HTMLElement&&i instanceof j.default.SVGElement&&!(i instanceof j.default.SVGSVGElement)){if(i===a)continue;s=i.ownerSVGElement}else s=i;for(var d=Vn(s,r.ownerDocument),p=0;d[p]&&d[p]===o[p];)p++;var v=[d[p-1],d[p],o[p]];if(v[0])for(var y=v[0].lastChild;y;){if(y===v[1]){t=n,o=d;break}if(y===v[2])break;y=y.previousSibling}}else w=i,g=r,(parseInt(c.getWindow(w).getComputedStyle(w).zIndex,10)||0)>=(parseInt(c.getWindow(g).getComputedStyle(g).zIndex,10)||0)&&(t=n);else t=n}else t=n}var w,g;return t},C.matchesUpTo=function(e,t,o){for(;f.default.element(e);){if(ct(e,t))return!0;if((e=lt(e))===o)return ct(e,t)}return!1},C.getActualElement=function(e){return e.correspondingUseElement||e},C.getScrollXY=Bn,C.getElementClientRect=Nn,C.getElementRect=function(e){var t=Nn(e);if(!G.default.isIOS7&&t){var o=Bn(c.getWindow(e));t.left+=o.x,t.right+=o.x,t.top+=o.y,t.bottom+=o.y}return t},C.getPath=function(e){for(var t=[];e;)t.push(e),e=lt(e);return t},C.trySelector=function(e){return!!f.default.string(e)&&(j.default.document.querySelector(e),!0)};var Qt=function(e){return e.parentNode||e.host};function Vn(e,t){for(var o,n=[],i=e;(o=Qt(i))&&i!==t&&o!==i.ownerDocument;)n.unshift(i),i=o;return n}function Bn(e){return{x:(e=e||c.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Nn(e){var t=e instanceof j.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e,t){for(var o in t)e[o]=t[o];return e};var U={};function Jt(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function Xn(e,t,o){return e==="parent"?(0,C.parentNode)(o):e==="self"?t.getRect(o):(0,C.closest)(o,e)}Object.defineProperty(U,"__esModule",{value:!0}),U.getStringOptionResult=Xn,U.resolveRectLike=function(e,t,o,n){var i,r=e;return f.default.string(r)?r=Xn(r,t,o):f.default.func(r)&&(r=r.apply(void 0,function(l){if(Array.isArray(l))return Jt(l)}(i=n)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(i)||function(l,a){if(l){if(typeof l=="string")return Jt(l,a);var s=Object.prototype.toString.call(l).slice(8,-1);return s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set"?Array.from(l):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Jt(l,a):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),f.default.element(r)&&(r=(0,C.getElementRect)(r)),r},U.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},U.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,k.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},U.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,k.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},U.addEdges=function(e,t,o){e.left&&(t.left+=o.x),e.right&&(t.right+=o.x),e.top&&(t.top+=o.y),e.bottom&&(t.bottom+=o.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=function(e,t,o){var n=e.options[o],i=n&&n.origin||e.options.origin,r=(0,U.resolveRectLike)(i,e,t,[e&&t]);return(0,U.rectToXY)(r)||{x:0,y:0}};var Ce={};function Yn(e){return e.trim().split(/ +/)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=function e(t,o,n){if(n=n||{},f.default.string(t)&&t.search(" ")!==-1&&(t=Yn(t)),f.default.array(t))return t.reduce(function(s,d){return(0,k.default)(s,e(d,o,n))},n);if(f.default.object(t)&&(o=t,t=""),f.default.func(o))n[t]=n[t]||[],n[t].push(o);else if(f.default.array(o))for(var i=0;i<o.length;i++){var r;r=o[i],e(t,r,n)}else if(f.default.object(o))for(var l in o){var a=Yn(l).map(function(s){return"".concat(t).concat(s)});e(a,o[l],n)}return n};var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0,me.default=function(e,t){return Math.sqrt(e*e+t*t)};var Ye={};function en(e,t){for(var o in t){var n=en.prefixedPropREs,i=!1;for(var r in n)if(o.indexOf(r)===0&&n[r].test(o)){i=!0;break}i||typeof t[o]=="function"||(e[o]=t[o])}return e}Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0,en.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var Ci=en;Ye.default=Ci;var _={};function tn(e){return e instanceof j.default.Event||e instanceof j.default.Touch}function qe(e,t,o){return e=e||"page",(o=o||{}).x=t[e+"X"],o.y=t[e+"Y"],o}function qn(e,t){return t=t||{x:0,y:0},G.default.isOperaMobile&&tn(e)?(qe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):qe("page",e,t),t}function Un(e,t){return t=t||{},G.default.isOperaMobile&&tn(e)?qe("screen",e,t):qe("client",e,t),t}function ut(e){var t=[];return f.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function $n(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},o=0;o<e.length;o++){var n=e[o];for(var i in t)t[i]+=n[i]}for(var r in t)t[r]/=e.length;return t}Object.defineProperty(_,"__esModule",{value:!0}),_.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},_.setCoordDeltas=function(e,t,o){e.page.x=o.page.x-t.page.x,e.page.y=o.page.y-t.page.y,e.client.x=o.client.x-t.client.x,e.client.y=o.client.y-t.client.y,e.timeStamp=o.timeStamp-t.timeStamp},_.setCoordVelocity=function(e,t){var o=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/o,e.page.y=t.page.y/o,e.client.x=t.client.x/o,e.client.y=t.client.y/o,e.timeStamp=o},_.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},_.isNativePointer=tn,_.getXY=qe,_.getPageXY=qn,_.getClientXY=Un,_.getPointerId=function(e){return f.default.number(e.pointerId)?e.pointerId:e.identifier},_.setCoords=function(e,t,o){var n=t.length>1?$n(t):t[0];qn(n,e.page),Un(n,e.client),e.timeStamp=o},_.getTouchPair=ut,_.pointerAverage=$n,_.touchBBox=function(e){if(!e.length)return null;var t=ut(e),o=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:o,y:n,left:o,top:n,right:i,bottom:r,width:i-o,height:r-n}},_.touchDistance=function(e,t){var o=t+"X",n=t+"Y",i=ut(e),r=i[0][o]-i[1][o],l=i[0][n]-i[1][n];return(0,me.default)(r,l)},_.touchAngle=function(e,t){var o=t+"X",n=t+"Y",i=ut(e),r=i[1][o]-i[0][o],l=i[1][n]-i[0][n];return 180*Math.atan2(l,r)/Math.PI},_.getPointerType=function(e){return f.default.string(e.pointerType)?e.pointerType:f.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof j.default.Touch?"touch":"mouse"},_.getEventTargets=function(e){var t=f.default.func(e.composedPath)?e.composedPath():e.path;return[C.getActualElement(t?t[0]:e.target),C.getActualElement(e.currentTarget)]},_.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},_.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(_,"pointerExtend",{enumerable:!0,get:function(){return Ye.default}});var Ae={};function Ai(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.BaseEvent=void 0;var Gn=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=n}var t,o;return t=e,(o=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ai(t.prototype,o),e}();Ae.BaseEvent=Gn,Object.defineProperty(Gn.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.find=Y.findIndex=Y.from=Y.merge=Y.remove=Y.contains=void 0,Y.contains=function(e,t){return e.indexOf(t)!==-1},Y.remove=function(e,t){return e.splice(e.indexOf(t),1)};var Zn=function(e,t){for(var o=0;o<t.length;o++){var n=t[o];e.push(n)}return e};Y.merge=Zn,Y.from=function(e){return Zn([],e)};var Kn=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o;return-1};Y.findIndex=Kn,Y.find=function(e,t){return e[Kn(e,t)]};var pe={};function Qn(e){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ii(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Di(e,t){return!t||Qn(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(pe,"__esModule",{value:!0}),pe.DropEvent=void 0;var ji=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&Jn(a,s)})(l,e);var t,o,n,i,r=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=nn(n);if(i){var d=nn(this).constructor;a=Reflect.construct(s,arguments,d)}else a=s.apply(this,arguments);return Di(this,a)});function l(a,s,d){var p;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,l),(p=r.call(this,s._interaction)).target=void 0,p.dropzone=void 0,p.dragEvent=void 0,p.relatedTarget=void 0,p.draggable=void 0,p.timeStamp=void 0,p.propagationStopped=!1,p.immediatePropagationStopped=!1;var v=d==="dragleave"?a.prev:a.cur,y=v.element,w=v.dropzone;return p.type=d,p.target=y,p.currentTarget=y,p.dropzone=w,p.dragEvent=s,p.relatedTarget=s.target,p.draggable=s.interactable,p.timeStamp=s.timeStamp,p}return t=l,(o=[{key:"reject",value:function(){var a=this,s=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var d=s.activeDrops,p=Y.findIndex(d,function(y){var w=y.dropzone,g=y.element;return w===a.dropzone&&g===a.target});s.activeDrops.splice(p,1);var v=new l(s,this.dragEvent,"dropdeactivate");v.dropzone=this.dropzone,v.target=this.target,this.dropzone.fire(v)}else this.dropzone.fire(new l(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ii(t.prototype,o),l}(Ae.BaseEvent);pe.DropEvent=ji;var dt={};function eo(e,t){for(var o=0;o<e.slice().length;o++){var n=e.slice()[o],i=n.dropzone,r=n.element;t.dropzone=i,t.target=r,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function on(e,t){for(var o=function(r,l){for(var a=r.interactables,s=[],d=0;d<a.list.length;d++){var p=a.list[d];if(p.options.drop.enabled){var v=p.options.drop.accept;if(!(f.default.element(v)&&v!==l||f.default.string(v)&&!C.matchesSelector(l,v)||f.default.func(v)&&!v({dropzone:p,draggableElement:l})))for(var y=f.default.string(p.target)?p._context.querySelectorAll(p.target):f.default.array(p.target)?p.target:[p.target],w=0;w<y.length;w++){var g=y[w];g!==l&&s.push({dropzone:p,element:g,rect:p.getRect(g)})}}}return s}(e,t),n=0;n<o.length;n++){var i=o[n];i.rect=i.dropzone.getRect(i.element)}return o}function to(e,t,o){for(var n=e.dropState,i=e.interactable,r=e.element,l=[],a=0;a<n.activeDrops.length;a++){var s=n.activeDrops[a],d=s.dropzone,p=s.element,v=s.rect;l.push(d.dropCheck(t,o,i,r,p,v)?p:null)}var y=C.indexOfDeepestElement(l);return n.activeDrops[y]||null}function rn(e,t,o){var n=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return o.type==="dragstart"&&(i.activate=new pe.DropEvent(n,o,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),o.type==="dragend"&&(i.deactivate=new pe.DropEvent(n,o,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(i.leave=new pe.DropEvent(n,o,"dragleave"),o.dragLeave=i.leave.target=n.prev.element,o.prevDropzone=i.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(i.enter=new pe.DropEvent(n,o,"dragenter"),o.dragEnter=n.cur.element,o.dropzone=n.cur.dropzone)),o.type==="dragend"&&n.cur.dropzone&&(i.drop=new pe.DropEvent(n,o,"drop"),o.dropzone=n.cur.dropzone,o.relatedTarget=n.cur.element),o.type==="dragmove"&&n.cur.dropzone&&(i.move=new pe.DropEvent(n,o,"dropmove"),i.move.dragmove=o,o.dropzone=n.cur.dropzone)),i}function an(e,t){var o=e.dropState,n=o.activeDrops,i=o.cur,r=o.prev;t.leave&&r.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&eo(n,t.deactivate),o.prev.dropzone=i.dropzone,o.prev.element=i.element}function no(e,t){var o=e.interaction,n=e.iEvent,i=e.event;if(n.type==="dragmove"||n.type==="dragend"){var r=o.dropState;t.dynamicDrop&&(r.activeDrops=on(t,o.element));var l=n,a=to(o,l,i);r.rejected=r.rejected&&!!a&&a.dropzone===r.cur.dropzone&&a.element===r.cur.element,r.cur.dropzone=a&&a.dropzone,r.cur.element=a&&a.element,r.events=rn(o,0,l)}}Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var oo={id:"actions/drop",install:function(e){var t=e.actions,o=e.interactStatic,n=e.Interactable,i=e.defaults;e.usePlugin(X.default),n.prototype.dropzone=function(r){return function(l,a){if(f.default.object(a)){if(l.options.drop.enabled=a.enabled!==!1,a.listeners){var s=(0,Ce.default)(a.listeners),d=Object.keys(s).reduce(function(p,v){return p[/^(enter|leave)/.test(v)?"drag".concat(v):/^(activate|deactivate|move)/.test(v)?"drop".concat(v):v]=s[v],p},{});l.off(l.options.drop.listeners),l.on(d),l.options.drop.listeners=d}return f.default.func(a.ondrop)&&l.on("drop",a.ondrop),f.default.func(a.ondropactivate)&&l.on("dropactivate",a.ondropactivate),f.default.func(a.ondropdeactivate)&&l.on("dropdeactivate",a.ondropdeactivate),f.default.func(a.ondragenter)&&l.on("dragenter",a.ondragenter),f.default.func(a.ondragleave)&&l.on("dragleave",a.ondragleave),f.default.func(a.ondropmove)&&l.on("dropmove",a.ondropmove),/^(pointer|center)$/.test(a.overlap)?l.options.drop.overlap=a.overlap:f.default.number(a.overlap)&&(l.options.drop.overlap=Math.max(Math.min(1,a.overlap),0)),"accept"in a&&(l.options.drop.accept=a.accept),"checker"in a&&(l.options.drop.checker=a.checker),l}return f.default.bool(a)?(l.options.drop.enabled=a,l):l.options.drop}(this,r)},n.prototype.dropCheck=function(r,l,a,s,d,p){return function(v,y,w,g,x,T,E){var M=!1;if(!(E=E||v.getRect(T)))return!!v.options.drop.checker&&v.options.drop.checker(y,w,M,v,T,g,x);var D=v.options.drop.overlap;if(D==="pointer"){var L=(0,Ee.default)(g,x,"drag"),W=_.getPageXY(y);W.x+=L.x,W.y+=L.y;var $=W.x>E.left&&W.x<E.right,F=W.y>E.top&&W.y<E.bottom;M=$&&F}var N=g.getRect(x);if(N&&D==="center"){var se=N.left+N.width/2,ge=N.top+N.height/2;M=se>=E.left&&se<=E.right&&ge>=E.top&&ge<=E.bottom}return N&&f.default.number(D)&&(M=Math.max(0,Math.min(E.right,N.right)-Math.max(E.left,N.left))*Math.max(0,Math.min(E.bottom,N.bottom)-Math.max(E.top,N.top))/(N.width*N.height)>=D),v.options.drop.checker&&(M=v.options.drop.checker(y,w,M,v,T,g,x)),M}(this,r,l,a,s,d,p)},o.dynamicDrop=function(r){return f.default.bool(r)?(e.dynamicDrop=r,o):e.dynamicDrop},(0,k.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=oo.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var o=e.interaction,n=(e.event,e.iEvent);if(o.prepared.name==="drag"){var i=o.dropState;i.activeDrops=null,i.events=null,i.activeDrops=on(t,o.element),i.events=rn(o,0,n),i.events.activate&&(eo(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:o,dragEvent:n}))}},"interactions:action-move":no,"interactions:after-action-move":function(e,t){var o=e.interaction,n=e.iEvent;o.prepared.name==="drag"&&(an(o,o.dropState.events),t.fire("actions/drop:move",{interaction:o,dragEvent:n}),o.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var o=e.interaction,n=e.iEvent;no(e,t),an(o,o.dropState.events),t.fire("actions/drop:end",{interaction:o,dragEvent:n})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var o=t.dropState;o&&(o.activeDrops=null,o.events=null,o.cur.dropzone=null,o.cur.element=null,o.prev.dropzone=null,o.prev.element=null,o.rejected=!1)}}},getActiveDrops:on,getDrop:to,getDropEvents:rn,fireDropEvents:an,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ri=oo;dt.default=Ri;var pt={};function sn(e){var t=e.interaction,o=e.iEvent,n=e.phase;if(t.prepared.name==="gesture"){var i=t.pointers.map(function(d){return d.pointer}),r=n==="start",l=n==="end",a=t.interactable.options.deltaSource;if(o.touches=[i[0],i[1]],r)o.distance=_.touchDistance(i,a),o.box=_.touchBBox(i),o.scale=1,o.ds=0,o.angle=_.touchAngle(i,a),o.da=0,t.gesture.startDistance=o.distance,t.gesture.startAngle=o.angle;else if(l){var s=t.prevEvent;o.distance=s.distance,o.box=s.box,o.scale=s.scale,o.ds=0,o.angle=s.angle,o.da=0}else o.distance=_.touchDistance(i,a),o.box=_.touchBBox(i),o.scale=o.distance/t.gesture.startDistance,o.angle=_.touchAngle(i,a),o.ds=o.scale-t.gesture.scale,o.da=o.angle-t.gesture.angle;t.gesture.distance=o.distance,t.gesture.angle=o.angle,f.default.number(o.scale)&&o.scale!==1/0&&!isNaN(o.scale)&&(t.gesture.scale=o.scale)}}Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0;var ln={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,o=e.Interactable,n=e.defaults;o.prototype.gesturable=function(i){return f.default.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):f.default.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=ln,t.methodDict.gesture="gesturable",n.actions.gesture=ln.defaults},listeners:{"interactions:action-start":sn,"interactions:action-move":sn,"interactions:action-end":sn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Li=ln;pt.default=Li;var ft={};function Hi(e,t,o,n,i,r,l){if(!t)return!1;if(t===!0){var a=f.default.number(r.width)?r.width:r.right-r.left,s=f.default.number(r.height)?r.height:r.bottom-r.top;if(l=Math.min(l,Math.abs((e==="left"||e==="right"?a:s)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),s<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return o.x<(a>=0?r.left:r.right)+l;if(e==="top")return o.y<(s>=0?r.top:r.bottom)+l;if(e==="right")return o.x>(a>=0?r.right:r.left)-l;if(e==="bottom")return o.y>(s>=0?r.bottom:r.top)-l}return!!f.default.element(n)&&(f.default.element(t)?t===n:C.matchesUpTo(n,t,i))}function io(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="resize"&&o.resizeAxes){var n=t;o.interactable.options.resize.square?(o.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=o.resizeAxes,o.resizeAxes==="x"?n.delta.y=0:o.resizeAxes==="y"&&(n.delta.x=0))}}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var fe={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,o=e.browser,n=e.Interactable,i=e.defaults;fe.cursors=function(r){return r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(o),fe.defaultMargin=o.supportsTouch||o.supportsPointerEvent?20:10,n.prototype.resizable=function(r){return function(l,a,s){return f.default.object(a)?(l.options.resize.enabled=a.enabled!==!1,l.setPerAction("resize",a),l.setOnEvents("resize",a),f.default.string(a.axis)&&/^x$|^y$|^xy$/.test(a.axis)?l.options.resize.axis=a.axis:a.axis===null&&(l.options.resize.axis=s.defaults.actions.resize.axis),f.default.bool(a.preserveAspectRatio)?l.options.resize.preserveAspectRatio=a.preserveAspectRatio:f.default.bool(a.square)&&(l.options.resize.square=a.square),l):f.default.bool(a)?(l.options.resize.enabled=a,l):l.options.resize}(this,r,e)},t.map.resize=fe,t.methodDict.resize="resizable",i.actions.resize=fe.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var o=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=o,r=n.rect;n._rects={start:(0,k.default)({},r),corrected:(0,k.default)({},r),previous:(0,k.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}})(e),io(e)},"interactions:action-move":function(e){(function(t){var o=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=o,r=n.interactable.options.resize.invert,l=r==="reposition"||r==="negate",a=n.rect,s=n._rects,d=s.start,p=s.corrected,v=s.delta,y=s.previous;if((0,k.default)(y,p),l){if((0,k.default)(p,a),r==="reposition"){if(p.top>p.bottom){var w=p.top;p.top=p.bottom,p.bottom=w}if(p.left>p.right){var g=p.left;p.left=p.right,p.right=g}}}else p.top=Math.min(a.top,d.bottom),p.bottom=Math.max(a.bottom,d.top),p.left=Math.min(a.left,d.right),p.right=Math.max(a.right,d.left);for(var x in p.width=p.right-p.left,p.height=p.bottom-p.top,p)v[x]=p[x]-y[x];i.edges=n.prepared.edges,i.rect=p,i.deltaRect=v}})(e),io(e)},"interactions:action-end":function(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="resize"&&o.prepared.edges){var n=t;n.edges=o.prepared.edges,n.rect=o._rects.corrected,n.deltaRect=o._rects.delta}},"auto-start:check":function(e){var t=e.interaction,o=e.interactable,n=e.element,i=e.rect,r=e.buttons;if(i){var l=(0,k.default)({},t.coords.cur.page),a=o.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(r&a.mouseButtons)!=0)){if(f.default.object(a.edges)){var s={left:!1,right:!1,top:!1,bottom:!1};for(var d in s)s[d]=Hi(d,a.edges[d],l,t._latestPointer.eventTarget,n,i,a.margin||fe.defaultMargin);s.left=s.left&&!s.right,s.top=s.top&&!s.bottom,(s.left||s.right||s.top||s.bottom)&&(e.action={name:"resize",edges:s})}else{var p=a.axis!=="y"&&l.x>i.right-fe.defaultMargin,v=a.axis!=="x"&&l.y>i.bottom-fe.defaultMargin;(p||v)&&(e.action={name:"resize",axes:(p?"x":"")+(v?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,o=e.axis,n=e.name,i=fe.cursors,r=null;if(o)r=i[n+o];else if(t){for(var l="",a=["top","bottom","left","right"],s=0;s<a.length;s++){var d=a[s];t[d]&&(l+=d)}r=i[l]}return r},defaultMargin:null},zi=fe;ft.default=zi;var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0;var Fi={id:"actions",install:function(e){e.usePlugin(pt.default),e.usePlugin(ft.default),e.usePlugin(X.default),e.usePlugin(dt.default)}};ht.default=Fi;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var he,xe,ro=0,Wi={request:function(e){return he(e)},cancel:function(e){return xe(e)},init:function(e){if(he=e.requestAnimationFrame,xe=e.cancelAnimationFrame,!he)for(var t=["ms","moz","webkit","o"],o=0;o<t.length;o++){var n=t[o];he=e["".concat(n,"RequestAnimationFrame")],xe=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}he=he&&he.bind(e),xe=xe&&xe.bind(e),he||(he=function(i){var r=Date.now(),l=Math.max(0,16-(r-ro)),a=e.setTimeout(function(){i(r+l)},l);return ro=r+l,a},xe=function(i){return clearTimeout(i)})}};le.default=Wi;var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.getContainer=vt,ye.getScroll=Ue,ye.getScrollSize=function(e){return f.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},ye.getScrollSizeDelta=function(e,t){var o=e.interaction,n=e.element,i=o&&o.interactable.options[o.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var r=vt(i.container,o.interactable,n),l=Ue(r);t();var a=Ue(r);return{x:a.x-l.x,y:a.y-l.y}},ye.default=void 0;var R={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){R.isScrolling=!0,le.default.cancel(R.i),e.autoScroll=R,R.interaction=e,R.prevTime=R.now(),R.i=le.default.request(R.scroll)},stop:function(){R.isScrolling=!1,R.interaction&&(R.interaction.autoScroll=null),le.default.cancel(R.i)},scroll:function(){var e=R.interaction,t=e.interactable,o=e.element,n=e.prepared.name,i=t.options[n].autoScroll,r=vt(i.container,t,o),l=R.now(),a=(l-R.prevTime)/1e3,s=i.speed*a;if(s>=1){var d={x:R.x*s,y:R.y*s};if(d.x||d.y){var p=Ue(r);f.default.window(r)?r.scrollBy(d.x,d.y):r&&(r.scrollLeft+=d.x,r.scrollTop+=d.y);var v=Ue(r),y={x:v.x-p.x,y:v.y-p.y};(y.x||y.y)&&t.fire({type:"autoscroll",target:o,interactable:t,delta:y,interaction:e,container:r})}R.prevTime=l}R.isScrolling&&(le.default.cancel(R.i),R.i=le.default.request(R.scroll))},check:function(e,t){var o;return(o=e.options[t].autoScroll)==null?void 0:o.enabled},onInteractionMove:function(e){var t=e.interaction,o=e.pointer;if(t.interacting()&&R.check(t.interactable,t.prepared.name))if(t.simulation)R.x=R.y=0;else{var n,i,r,l,a=t.interactable,s=t.element,d=t.prepared.name,p=a.options[d].autoScroll,v=vt(p.container,a,s);if(f.default.window(v))l=o.clientX<R.margin,n=o.clientY<R.margin,i=o.clientX>v.innerWidth-R.margin,r=o.clientY>v.innerHeight-R.margin;else{var y=C.getElementClientRect(v);l=o.clientX<y.left+R.margin,n=o.clientY<y.top+R.margin,i=o.clientX>y.right-R.margin,r=o.clientY>y.bottom-R.margin}R.x=i?1:l?-1:0,R.y=r?1:n?-1:0,R.isScrolling||(R.margin=p.margin,R.speed=p.speed,R.start(t))}}};function vt(e,t,o){return(f.default.string(e)?(0,U.getStringOptionResult)(e,t,o):e)||(0,c.getWindow)(o)}function Ue(e){return f.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var Vi={id:"auto-scroll",install:function(e){var t=e.defaults,o=e.actions;e.autoScroll=R,R.now=function(){return e.now()},o.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=R.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,R.stop(),R.interaction&&(R.interaction=null)},"interactions:stop":R.stop,"interactions:action-move":function(e){return R.onInteractionMove(e)}}};ye.default=Vi;var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.warnOnce=function(e,t){var o=!1;return function(){return o||(c.window.console.warn(t),o=!0),e.apply(this,arguments)}},re.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},re.sign=void 0,re.sign=function(e){return e>=0?1:-1};var gt={};function Bi(e){return f.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ni(e){return f.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0;var Xi={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(o,n,i,r){var l=function(a,s,d,p,v){var y=a.getRect(p),w={action:null,interactable:a,interaction:d,element:p,rect:y,buttons:s.buttons||{0:1,1:4,3:8,4:16}[s.button]};return v.fire("auto-start:check",w),w.action}(this,n,i,r,e);return this.options.actionChecker?this.options.actionChecker(o,n,l,this,r,i):l},t.prototype.ignoreFrom=(0,re.warnOnce)(function(o){return this._backCompatOption("ignoreFrom",o)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,re.warnOnce)(function(o){return this._backCompatOption("allowFrom",o)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Ni,t.prototype.styleCursor=Bi}};gt.default=Xi;var Ie={};function ao(e,t,o,n,i){return t.testIgnoreAllow(t.options[e.name],o,n)&&t.options[e.name].enabled&&mt(t,o,e,i)?e:null}function Yi(e,t,o,n,i,r,l){for(var a=0,s=n.length;a<s;a++){var d=n[a],p=i[a],v=d.getAction(t,o,e,p);if(v){var y=ao(v,d,p,r,l);if(y)return{action:y,interactable:d,element:p}}}return{action:null,interactable:null,element:null}}function so(e,t,o,n,i){var r=[],l=[],a=n;function s(p){r.push(p),l.push(a)}for(;f.default.element(a);){r=[],l=[],i.interactables.forEachMatch(a,s);var d=Yi(e,t,o,r,l,n,i);if(d.action&&!d.interactable.options[d.action.name].manualStart)return d;a=C.parentNode(a)}return{action:null,interactable:null,element:null}}function lo(e,t,o){var n=t.action,i=t.interactable,r=t.element;n=n||{name:null},e.interactable=i,e.element=r,(0,re.copyAction)(e.prepared,n),e.rect=i&&n.name?i.getRect(r):null,uo(e,o),o.fire("autoStart:prepared",{interaction:e})}function mt(e,t,o,n){var i=e.options,r=i[o.name].max,l=i[o.name].maxPerElement,a=n.autoStart.maxInteractions,s=0,d=0,p=0;if(!(r&&l&&a))return!1;for(var v=0;v<n.interactions.list.length;v++){var y=n.interactions.list[v],w=y.prepared.name;if(y.interacting()&&(++s>=a||y.interactable===e&&((d+=w===o.name?1:0)>=r||y.element===t&&(p++,w===o.name&&p>=l))))return!1}return a>0}function co(e,t){return f.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function cn(e,t,o){var n=o.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,o.autoStart.cursorElement=t?e:null}function uo(e,t){var o=e.interactable,n=e.element,i=e.prepared;if(e.pointerType==="mouse"&&o&&o.options.styleCursor){var r="";if(i.name){var l=o.options[i.name].cursorChecker;r=f.default.func(l)?l(i,o,n,e._interacting):t.actions.map[i.name].getCursor(i)}cn(e.element,r||"",t)}else t.autoStart.cursorElement&&cn(t.autoStart.cursorElement,"",t)}Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var qi={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,o=e.defaults;e.usePlugin(gt.default),o.base.actionChecker=null,o.base.styleCursor=!0,(0,k.default)(o.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(n){return co(n,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:mt,cursorElement:null}},listeners:{"interactions:down":function(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget;o.interacting()||lo(o,so(o,n,i,r,t),t)},"interactions:move":function(e,t){(function(o,n){var i=o.interaction,r=o.pointer,l=o.event,a=o.eventTarget;i.pointerType!=="mouse"||i.pointerIsDown||i.interacting()||lo(i,so(i,r,l,a,n),n)})(e,t),function(o,n){var i=o.interaction;if(i.pointerIsDown&&!i.interacting()&&i.pointerWasMoved&&i.prepared.name){n.fire("autoStart:before-start",o);var r=i.interactable,l=i.prepared.name;l&&r&&(r.options[l].manualStart||!mt(r,i.element,i.prepared,n)?i.stop():(i.start(i.prepared,r,i.element),uo(i,n)))}}(e,t)},"interactions:stop":function(e,t){var o=e.interaction,n=o.interactable;n&&n.options.styleCursor&&cn(o.element,"",t)}},maxInteractions:co,withinInteractionLimit:mt,validateAction:ao};Ie.default=qi;var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0;var Ui={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var o=e.interaction,n=e.eventTarget,i=e.dx,r=e.dy;if(o.prepared.name==="drag"){var l=Math.abs(i),a=Math.abs(r),s=o.interactable.options.drag,d=s.startAxis,p=l>a?"x":l<a?"y":"xy";if(o.prepared.axis=s.lockAxis==="start"?p[0]:s.lockAxis,p!=="xy"&&d!=="xy"&&d!==p){o.prepared.name=null;for(var v=n,y=function(g){if(g!==o.interactable){var x=o.interactable.options.drag;if(!x.manualStart&&g.testIgnoreAllow(x,v,n)){var T=g.getAction(o.downPointer,o.downEvent,o,v);if(T&&T.name==="drag"&&function(E,M){if(!M)return!1;var D=M.options.drag.startAxis;return E==="xy"||D==="xy"||D===E}(p,g)&&Ie.default.validateAction(T,g,v,n,t))return g}}};f.default.element(v);){var w=t.interactables.forEachMatch(v,y);if(w){o.prepared.name="drag",o.interactable=w,o.element=v;break}v=(0,C.parentNode)(v)}}}}}};yt.default=Ui;var bt={};function un(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var o=e.interactable.options;return o[t].hold||o[t].delay}Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=void 0;var $i={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Ie.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,o=un(t);o>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},o))},"interactions:move":function(e){var t=e.interaction,o=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!o&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;un(t)>0&&(t.prepared.name=null)}},getHoldDuration:un};bt.default=$i;var wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=void 0;var Gi={id:"auto-start",install:function(e){e.usePlugin(Ie.default),e.usePlugin(bt.default),e.usePlugin(yt.default)}};wt.default=Gi;var De={};function Zi(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):f.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function Ki(e){var t=e.interaction,o=e.event;t.interactable&&t.interactable.checkAndPreventDefault(o)}function po(e){var t=e.Interactable;t.prototype.preventDefault=Zi,t.prototype.checkAndPreventDefault=function(o){return function(n,i,r){var l=n.options.preventDefault;if(l!=="never")if(l!=="always"){if(i.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var a=(0,c.getWindow)(r.target).document,s=i.getDocOptions(a);if(!s||!s.events||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||f.default.element(r.target)&&(0,C.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,o)},e.interactions.docEvents.push({type:"dragstart",listener:function(o){for(var n=0;n<e.interactions.list.length;n++){var i=e.interactions.list[n];if(i.element&&(i.element===o.target||(0,C.nodeContains)(i.element,o.target)))return void i.interactable.checkAndPreventDefault(o)}}})}Object.defineProperty(De,"__esModule",{value:!0}),De.install=po,De.default=void 0;var Qi={id:"core/interactablePreventDefault",install:po,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=Ki,e},{})};De.default=Qi;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0,Et.default={};var je,xt={};function dn(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(je||(je={}));var fo="[interact.js] ",pn={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},fn=[{name:je.touchAction,perform:function(e){return!function(t,o,n){for(var i=t;f.default.element(i);){if(ho(i,"touchAction",n))return!0;i=(0,C.parentNode)(i)}return!1}(e.element,0,/pan-|pinch|none/)},getInfo:function(e){return[e.element,pn.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:je.boxSizing,perform:function(e){var t=e.element;return e.prepared.name==="resize"&&t instanceof j.default.HTMLElement&&!ho(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,pn.boxSizing]}},{name:je.noListeners,perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function ho(e,t,o){var n=e.style[t]||c.window.getComputedStyle(e)[t];return o.test((n||"").toString())}var Ji={id:"dev-tools",install:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.logger,n=e.Interactable,i=e.defaults;e.logger=o||console,i.base.devTools={ignore:{}},n.prototype.devTools=function(r){return r?((0,k.default)(this.options.devTools,r),this):this.options.devTools},e.usePlugin(Et.default)},listeners:{"interactions:action-start":function(e,t){for(var o=e.interaction,n=0;n<fn.length;n++){var i,r=fn[n],l=o.interactable&&o.interactable.options;l&&l.devTools&&l.devTools.ignore[r.name]||!r.perform(o)||(i=t.logger).warn.apply(i,[fo+r.text].concat(function(s){if(Array.isArray(s))return dn(s)}(a=r.getInfo(o))||function(s){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(s))return Array.from(s)}(a)||function(s,d){if(s){if(typeof s=="string")return dn(s,d);var p=Object.prototype.toString.call(s).slice(8,-1);return p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set"?Array.from(s):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?dn(s,d):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))}var a}},checks:fn,CheckName:je,links:pn,prefix:fo};xt.default=Ji;var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=function e(t){var o={};for(var n in t){var i=t[n];f.default.plainObject(i)?o[n]=e(i):f.default.array(i)?o[n]=Y.from(i):o[n]=i}return o};var Pe={};function vo(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(p){l=!0,a=p}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return go(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?go(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function go(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function er(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.getRectOffset=mo,Pe.default=void 0;var tr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=n,this.result=St()}var t,o;return t=e,(o=[{key:"start",value:function(n,i){var r=n.phase,l=this.interaction,a=function(d){var p=d.interactable.options[d.prepared.name],v=p.modifiers;return v&&v.length?v:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(y){var w=p[y];return w&&w.enabled&&{options:w,methods:w._methods}}).filter(function(y){return!!y})}(l);this.prepareStates(a),this.edges=(0,k.default)({},l.edges),this.startOffset=mo(l.rect,i),this.startDelta={x:0,y:0};var s=this.fillArg({phase:r,pageCoords:i,preEnd:!1});return this.result=St(),this.startAll(s),this.result=this.setAll(s)}},{key:"fillArg",value:function(n){var i=this.interaction;return n.interaction=i,n.interactable=i.interactable,n.element=i.element,n.rect=n.rect||i.rect,n.edges=this.edges,n.startOffset=this.startOffset,n}},{key:"startAll",value:function(n){for(var i=0;i<this.states.length;i++){var r=this.states[i];r.methods.start&&(n.state=r,r.methods.start(n))}}},{key:"setAll",value:function(n){var i=n.phase,r=n.preEnd,l=n.skipModifiers,a=n.rect;n.coords=(0,k.default)({},n.pageCoords),n.rect=(0,k.default)({},a);for(var s=l?this.states.slice(l):this.states,d=St(n.coords,n.rect),p=0;p<s.length;p++){var v,y=s[p],w=y.options,g=(0,k.default)({},n.coords),x=null;(v=y.methods)!=null&&v.set&&this.shouldDo(w,r,i)&&(n.state=y,x=y.methods.set(n),U.addEdges(this.interaction.edges,n.rect,{x:n.coords.x-g.x,y:n.coords.y-g.y})),d.eventProps.push(x)}d.delta.x=n.coords.x-n.pageCoords.x,d.delta.y=n.coords.y-n.pageCoords.y,d.rectDelta.left=n.rect.left-a.left,d.rectDelta.right=n.rect.right-a.right,d.rectDelta.top=n.rect.top-a.top,d.rectDelta.bottom=n.rect.bottom-a.bottom;var T=this.result.coords,E=this.result.rect;if(T&&E){var M=d.rect.left!==E.left||d.rect.right!==E.right||d.rect.top!==E.top||d.rect.bottom!==E.bottom;d.changed=M||T.x!==d.coords.x||T.y!==d.coords.y}return d}},{key:"applyToInteraction",value:function(n){var i=this.interaction,r=n.phase,l=i.coords.cur,a=i.coords.start,s=this.result,d=this.startDelta,p=s.delta;r==="start"&&(0,k.default)(this.startDelta,s.delta);for(var v=[[a,d],[l,p]],y=0;y<v.length;y++){var w=vo(v[y],2),g=w[0],x=w[1];g.page.x+=x.x,g.page.y+=x.y,g.client.x+=x.x,g.client.y+=x.y}var T=this.result.rectDelta,E=n.rect||i.rect;E.left+=T.left,E.right+=T.right,E.top+=T.top,E.bottom+=T.bottom,E.width=E.right-E.left,E.height=E.bottom-E.top}},{key:"setAndApply",value:function(n){var i=this.interaction,r=n.phase,l=n.preEnd,a=n.skipModifiers,s=this.setAll(this.fillArg({preEnd:l,phase:r,pageCoords:n.modifiedCoords||i.coords.cur.page}));if(this.result=s,!s.changed&&(!a||a<this.states.length)&&i.interacting())return!1;if(n.modifiedCoords){var d=i.coords.cur.page,p={x:n.modifiedCoords.x-d.x,y:n.modifiedCoords.y-d.y};s.coords.x+=p.x,s.coords.y+=p.y,s.delta.x+=p.x,s.delta.y+=p.y}this.applyToInteraction(n)}},{key:"beforeEnd",value:function(n){var i=n.interaction,r=n.event,l=this.states;if(l&&l.length){for(var a=!1,s=0;s<l.length;s++){var d=l[s];n.state=d;var p=d.options,v=d.methods,y=v.beforeEnd&&v.beforeEnd(n);if(y)return this.endResult=y,!1;a=a||!a&&this.shouldDo(p,!0,n.phase,!0)}a&&i.move({event:r,preEnd:!0})}}},{key:"stop",value:function(n){var i=n.interaction;if(this.states&&this.states.length){var r=(0,k.default)({states:this.states,interactable:i.interactable,element:i.element,rect:null},n);this.fillArg(r);for(var l=0;l<this.states.length;l++){var a=this.states[l];r.state=a,a.methods.stop&&a.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(n){this.states=[];for(var i=0;i<n.length;i++){var r=n[i],l=r.options,a=r.methods,s=r.name;this.states.push({options:l,methods:a,index:i,name:s})}return this.states}},{key:"restoreInteractionCoords",value:function(n){var i=n.interaction,r=i.coords,l=i.rect,a=i.modification;if(a.result){for(var s=a.startDelta,d=a.result,p=d.delta,v=d.rectDelta,y=[[r.start,s],[r.cur,p]],w=0;w<y.length;w++){var g=vo(y[w],2),x=g[0],T=g[1];x.page.x-=T.x,x.page.y-=T.y,x.client.x-=T.x,x.client.y-=T.y}l.left-=v.left,l.right-=v.right,l.top-=v.top,l.bottom-=v.bottom}}},{key:"shouldDo",value:function(n,i,r,l){return!(!n||n.enabled===!1||l&&!n.endOnly||n.endOnly&&!i||r==="start"&&!n.setStart)}},{key:"copyFrom",value:function(n){this.startOffset=n.startOffset,this.startDelta=n.startDelta,this.edges=n.edges,this.states=n.states.map(function(i){return(0,Se.default)(i)}),this.result=St((0,k.default)({},n.result.coords),(0,k.default)({},n.result.rect))}},{key:"destroy",value:function(){for(var n in this)this[n]=null}}])&&er(t.prototype,o),e}();function St(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function mo(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Pe.default=tr;var Q={};function Pt(e){var t=e.iEvent,o=e.interaction.modification.result;o&&(t.modifiers=o.eventProps)}Object.defineProperty(Q,"__esModule",{value:!0}),Q.makeModifier=function(e,t){var o=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(r){var l=r||{};for(var a in l.enabled=l.enabled!==!1,o)a in l||(l[a]=o[a]);var s={options:l,methods:n,name:t,enable:function(){return l.enabled=!0,s},disable:function(){return l.enabled=!1,s}};return s};return t&&typeof t=="string"&&(i._defaults=o,i._methods=n),i},Q.addEventModifiers=Pt,Q.default=void 0;var nr={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Pe.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Pt,"interactions:action-move":Pt,"interactions:action-end":Pt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};Q.default=nr;var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.defaults=void 0,$e.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Ge={};function yo(e){return(yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function or(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function ir(e,t){return!t||yo(t)!=="object"&&typeof t!="function"?wo(e):t}function wo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.InteractEvent=void 0;var Eo=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&bo(a,s)})(l,e);var t,o,n,i,r=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=hn(n);if(i){var d=hn(this).constructor;a=Reflect.construct(s,arguments,d)}else a=s.apply(this,arguments);return ir(this,a)});function l(a,s,d,p,v,y,w){var g;(function($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")})(this,l),(g=r.call(this,a)).target=void 0,g.currentTarget=void 0,g.relatedTarget=null,g.screenX=void 0,g.screenY=void 0,g.button=void 0,g.buttons=void 0,g.ctrlKey=void 0,g.shiftKey=void 0,g.altKey=void 0,g.metaKey=void 0,g.page=void 0,g.client=void 0,g.delta=void 0,g.rect=void 0,g.x0=void 0,g.y0=void 0,g.t0=void 0,g.dt=void 0,g.duration=void 0,g.clientX0=void 0,g.clientY0=void 0,g.velocity=void 0,g.speed=void 0,g.swipe=void 0,g.timeStamp=void 0,g.axes=void 0,g.preEnd=void 0,v=v||a.element;var x=a.interactable,T=(x&&x.options||$e.defaults).deltaSource,E=(0,Ee.default)(x,v,d),M=p==="start",D=p==="end",L=M?wo(g):a.prevEvent,W=M?a.coords.start:D?{page:L.page,client:L.client,timeStamp:a.coords.cur.timeStamp}:a.coords.cur;return g.page=(0,k.default)({},W.page),g.client=(0,k.default)({},W.client),g.rect=(0,k.default)({},a.rect),g.timeStamp=W.timeStamp,D||(g.page.x-=E.x,g.page.y-=E.y,g.client.x-=E.x,g.client.y-=E.y),g.ctrlKey=s.ctrlKey,g.altKey=s.altKey,g.shiftKey=s.shiftKey,g.metaKey=s.metaKey,g.button=s.button,g.buttons=s.buttons,g.target=v,g.currentTarget=v,g.preEnd=y,g.type=w||d+(p||""),g.interactable=x,g.t0=M?a.pointers[a.pointers.length-1].downTime:L.t0,g.x0=a.coords.start.page.x-E.x,g.y0=a.coords.start.page.y-E.y,g.clientX0=a.coords.start.client.x-E.x,g.clientY0=a.coords.start.client.y-E.y,g.delta=M||D?{x:0,y:0}:{x:g[T].x-L[T].x,y:g[T].y-L[T].y},g.dt=a.coords.delta.timeStamp,g.duration=g.timeStamp-g.t0,g.velocity=(0,k.default)({},a.coords.velocity[T]),g.speed=(0,me.default)(g.velocity.x,g.velocity.y),g.swipe=D||p==="inertiastart"?g.getSwipe():null,g}return t=l,(o=[{key:"getSwipe",value:function(){var a=this._interaction;if(a.prevEvent.speed<600||this.timeStamp-a.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var d=112.5<=s&&s<247.5,p=202.5<=s&&s<337.5;return{up:p,down:!p&&22.5<=s&&s<157.5,left:d,right:!d&&(292.5<=s||s<67.5),angle:s,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&or(t.prototype,o),l}(Ae.BaseEvent);Ge.InteractEvent=Eo,Object.defineProperties(Eo.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PointerInfo=void 0,Ze.PointerInfo=function e(t,o,n,i,r){(function(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=o,this.event=n,this.downTime=i,this.downTarget=r};var Tt,Ot,oe={};function rr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(oe,"__esModule",{value:!0}),Object.defineProperty(oe,"PointerInfo",{enumerable:!0,get:function(){return Ze.PointerInfo}}),oe.default=oe.Interaction=oe._ProxyMethods=oe._ProxyValues=void 0,oe._ProxyValues=Tt,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Tt||(oe._ProxyValues=Tt={})),oe._ProxyMethods=Ot,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Ot||(oe._ProxyMethods=Ot={}));var ar=0,xo=function(){function e(n){var i=this,r=n.pointerType,l=n.scopeFire;(function(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,re.warnOnce)(function(y){this.move(y)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:_.newCoords(),prev:_.newCoords(),cur:_.newCoords(),delta:_.newCoords(),velocity:_.newCoords()},this._id=ar++,this._scopeFire=l,this.pointerType=r;var a=this;this._proxy={};var s=function(y){Object.defineProperty(i._proxy,y,{get:function(){return a[y]}})};for(var d in Tt)s(d);var p=function(y){Object.defineProperty(i._proxy,y,{value:function(){return a[y].apply(a,arguments)}})};for(var v in Ot)p(v);this._scopeFire("interactions:new",{interaction:this})}var t,o;return t=e,(o=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(n,i,r){var l=this.updatePointer(n,i,r,!0),a=this.pointers[l];this._scopeFire("interactions:down",{pointer:n,event:i,eventTarget:r,pointerIndex:l,pointerInfo:a,type:"down",interaction:this})}},{key:"start",value:function(n,i,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(n.name==="gesture"?2:1)||!i.options[n.name].enabled)&&((0,re.copyAction)(this.prepared,n),this.interactable=i,this.element=r,this.rect=i.getRect(r),this.edges=this.prepared.edges?(0,k.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(n,i,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(n,i,r,!1);var l,a,s=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(l=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,me.default)(l,a)>this.pointerMoveTolerance);var d=this.getPointerIndex(n),p={pointer:n,pointerIndex:d,pointerInfo:this.pointers[d],event:i,type:"move",eventTarget:r,dx:l,dy:a,duplicate:s,interaction:this};s||_.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",p),s||this.simulation||(this.interacting()&&(p.type=null,this.move(p)),this.pointerWasMoved&&_.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(n){n&&n.event||_.setZeroCoords(this.coords.delta),(n=(0,k.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},n||{})).phase="move",this._doPhase(n)}},{key:"pointerUp",value:function(n,i,r,l){var a=this.getPointerIndex(n);a===-1&&(a=this.updatePointer(n,i,r,!1));var s=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(s),{pointer:n,pointerIndex:a,pointerInfo:this.pointers[a],event:i,eventTarget:r,type:s,curEventTarget:l,interaction:this}),this.simulation||this.end(i),this.removePointer(n,i)}},{key:"documentBlur",value:function(n){this.end(n),this._scopeFire("interactions:blur",{event:n,type:"blur",interaction:this})}},{key:"end",value:function(n){var i;this._ending=!0,n=n||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:n,interaction:this,phase:"end"})),this._ending=!1,i===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(n){var i=_.getPointerId(n);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Y.findIndex(this.pointers,function(r){return r.id===i})}},{key:"getPointerInfo",value:function(n){return this.pointers[this.getPointerIndex(n)]}},{key:"updatePointer",value:function(n,i,r,l){var a=_.getPointerId(n),s=this.getPointerIndex(n),d=this.pointers[s];return l=l!==!1&&(l||/(down|start)$/i.test(i.type)),d?d.pointer=n:(d=new Ze.PointerInfo(a,n,i,null,null),s=this.pointers.length,this.pointers.push(d)),_.setCoords(this.coords.cur,this.pointers.map(function(p){return p.pointer}),this._now()),_.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),l&&(this.pointerIsDown=!0,d.downTime=this.coords.cur.timeStamp,d.downTarget=r,_.pointerExtend(this.downPointer,n),this.interacting()||(_.copyCoords(this.coords.start,this.coords.cur),_.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(n,i,r),this._scopeFire("interactions:update-pointer",{pointer:n,event:i,eventTarget:r,down:l,pointerInfo:d,pointerIndex:s,interaction:this}),s}},{key:"removePointer",value:function(n,i){var r=this.getPointerIndex(n);if(r!==-1){var l=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:n,event:i,eventTarget:null,pointerIndex:r,pointerInfo:l,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(n,i,r){this._latestPointer.pointer=n,this._latestPointer.event=i,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(n,i,r,l){return new Ge.InteractEvent(this,n,this.prepared.name,i,this.element,r,l)}},{key:"_fireEvent",value:function(n){this.interactable.fire(n),(!this.prevEvent||n.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=n)}},{key:"_doPhase",value:function(n){var i=n.event,r=n.phase,l=n.preEnd,a=n.type,s=this.rect;if(s&&r==="move"&&(U.addEdges(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire("interactions:before-action-".concat(r),n)===!1)return!1;var d=n.iEvent=this._createPreparedEvent(i,r,l,a);return this._scopeFire("interactions:action-".concat(r),n),r==="start"&&(this.prevEvent=d),this._fireEvent(d),this._scopeFire("interactions:after-action-".concat(r),n),!0}},{key:"_now",value:function(){return Date.now()}}])&&rr(t.prototype,o),e}();oe.Interaction=xo;var sr=xo;oe.default=sr;var Te={};function So(e){e.pointerIsDown&&(gn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Po(e){vn(e.interaction)}function vn(e){if(!function(o){return!(!o.offset.pending.x&&!o.offset.pending.y)}(e))return!1;var t=e.offset.pending;return gn(e.coords.cur,t),gn(e.coords.delta,t),U.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function lr(e){var t=e.x,o=e.y;this.offset.pending.x+=t,this.offset.pending.y+=o,this.offset.total.x+=t,this.offset.total.y+=o}function gn(e,t){var o=e.page,n=e.client,i=t.x,r=t.y;o.x+=i,o.y+=r,n.x+=i,n.y+=r}Object.defineProperty(Te,"__esModule",{value:!0}),Te.addTotal=So,Te.applyPending=vn,Te.default=void 0,oe._ProxyMethods.offsetBy="";var cr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=lr},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return So(e.interaction)},"interactions:before-action-start":Po,"interactions:before-action-move":Po,"interactions:before-action-end":function(e){var t=e.interaction;if(vn(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};Te.default=cr;var Re={};function ur(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=Re.InertiaState=void 0;var To=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=n}var t,o;return t=e,(o=[{key:"start",value:function(n){var i=this.interaction,r=Mt(i);if(!r||!r.enabled)return!1;var l=i.coords.velocity.client,a=(0,me.default)(l.x,l.y),s=this.modification||(this.modification=new Pe.default(i));if(s.copyFrom(i.modification),this.t0=i._now(),this.allowResume=r.allowResume,this.v0=a,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&a>r.minSpeed&&a>r.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:n,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var n=this,i=this.interaction.coords.velocity.client,r=Mt(this.interaction),l=r.resistance,a=-Math.log(r.endSpeed/this.v0)/l;this.targetOffset={x:(i.x-a)/l,y:(i.y-a)/l},this.te=a,this.lambda_v0=l/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var s=this.modification,d=this.modifierArg;d.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(d),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame(function(){return n.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var n=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return n.smoothEndTick()})}},{key:"onNextFrame",value:function(n){var i=this;this.timeout=le.default.request(function(){i.active&&n()})}},{key:"inertiaTick",value:function(){var n,i,r,l,a,s=this,d=this.interaction,p=Mt(d).resistance,v=(d._now()-this.t0)/1e3;if(v<this.te){var y,w=1-(Math.exp(-p*v)-this.lambda_v0)/this.one_ve_v0;this.isModified?(n=this.targetOffset.x,i=this.targetOffset.y,r=this.modifiedOffset.x,l=this.modifiedOffset.y,y={x:Oo(a=w,0,n,r),y:Oo(a,0,i,l)}):y={x:this.targetOffset.x*w,y:this.targetOffset.y*w};var g={x:y.x-this.currentOffset.x,y:y.y-this.currentOffset.y};this.currentOffset.x+=g.x,this.currentOffset.y+=g.y,d.offsetBy(g),d.move(),this.onNextFrame(function(){return s.inertiaTick()})}else d.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var n=this,i=this.interaction,r=i._now()-this.t0,l=Mt(i).smoothEndDuration;if(r<l){var a={x:Mo(r,0,this.targetOffset.x,l),y:Mo(r,0,this.targetOffset.y,l)},s={x:a.x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,i.offsetBy(s),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return n.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(n){var i=n.pointer,r=n.event,l=n.eventTarget,a=this.interaction;a.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),a.updatePointer(i,r,l,!0),a._doPhase({interaction:a,event:r,phase:"resume"}),(0,_.copyCoords)(a.coords.prev,a.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,le.default.cancel(this.timeout)}}])&&ur(t.prototype,o),e}();function Mt(e){var t=e.interactable,o=e.prepared;return t&&t.options&&o.name&&t.options[o.name].inertia}function Oo(e,t,o,n){var i=1-e;return i*i*t+2*i*e*o+e*e*n}function Mo(e,t,o,n){return-o*(e/=n)*(e-2)+t}Re.InertiaState=To;var dr={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Te.default),e.usePlugin(Q.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new To(t)},"interactions:before-action-end":function(e){var t=e.interaction,o=e.event;return(!t._interacting||t.simulation||!t.inertia.start(o))&&null},"interactions:down":function(e){var t=e.interaction,o=e.eventTarget,n=t.inertia;if(n.active)for(var i=o;f.default.element(i);){if(i===t.element){n.resume(e);break}i=C.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Q.addEventModifiers,"interactions:action-inertiastart":Q.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};Re.default=dr;var Ke={};function pr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _o(e,t){for(var o=0;o<t.length;o++){var n=t[o];if(e.immediatePropagationStopped)break;n(e)}}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Eventable=void 0;var fr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,k.default)({},n||{})}var t,o;return t=e,(o=[{key:"fire",value:function(n){var i,r=this.global;(i=this.types[n.type])&&_o(n,i),!n.propagationStopped&&r&&(i=r[n.type])&&_o(n,i)}},{key:"on",value:function(n,i){var r=(0,Ce.default)(n,i);for(n in r)this.types[n]=Y.merge(this.types[n]||[],r[n])}},{key:"off",value:function(n,i){var r=(0,Ce.default)(n,i);for(n in r){var l=this.types[n];if(l&&l.length)for(var a=0;a<r[n].length;a++){var s=r[n][a],d=l.indexOf(s);d!==-1&&l.splice(d,1)}}}},{key:"getRect",value:function(n){return null}}])&&pr(t.prototype,o),e}();Ke.Eventable=fr;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var o in t.map)if(e.indexOf(o)===0&&e.substr(o.length)in t.phases)return!0;return!1};var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.createInteractStatic=function(e){var t=function o(n,i){var r=e.interactables.get(n,i);return r||((r=e.interactables.new(n,i)).events.global=o.globalEvents),r};return t.getPointerAverage=_.pointerAverage,t.getTouchBBox=_.touchBBox,t.getTouchDistance=_.touchDistance,t.getTouchAngle=_.touchAngle,t.getElementRect=C.getElementRect,t.getElementClientRect=C.getElementClientRect,t.matchesSelector=C.matchesSelector,t.closest=C.closest,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(o,n){return this.scope.usePlugin(o,n),this},t.isSet=function(o,n){return!!this.scope.interactables.get(o,n&&n.context)},t.on=(0,re.warnOnce)(function(o,n,i){if(f.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),f.default.array(o)){for(var r=0;r<o.length;r++){var l=o[r];this.on(l,n,i)}return this}if(f.default.object(o)){for(var a in o)this.on(a,o[a],n);return this}return(0,Qe.default)(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(n):this.globalEvents[o]=[n]:this.scope.events.add(this.scope.document,o,n,{options:i}),this},"The interact.on() method is being deprecated"),t.off=(0,re.warnOnce)(function(o,n,i){if(f.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),f.default.array(o)){for(var r=0;r<o.length;r++){var l=o[r];this.off(l,n,i)}return this}if(f.default.object(o)){for(var a in o)this.off(a,o[a],n);return this}var s;return(0,Qe.default)(o,this.scope.actions)?o in this.globalEvents&&(s=this.globalEvents[o].indexOf(n))!==-1&&this.globalEvents[o].splice(s,1):this.scope.events.remove(this.scope.document,o,n,i),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return G.default.supportsTouch},t.supportsPointerEvent=function(){return G.default.supportsPointerEvent},t.stop=function(){for(var o=0;o<this.scope.interactions.list.length;o++)this.scope.interactions.list[o].stop();return this},t.pointerMoveTolerance=function(o){return f.default.number(o)?(this.scope.interactions.pointerMoveTolerance=o,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(o,n){this.scope.addDocument(o,n)},t.removeDocument=function(o){this.scope.removeDocument(o)},t};var _t={};function hr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(_t,"__esModule",{value:!0}),_t.Interactable=void 0;var vr=function(){function e(n,i,r,l){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new Ke.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=i.actions,this.target=n,this._context=i.context||r,this._win=(0,c.getWindow)((0,C.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=l,this.set(i)}var t,o;return t=e,(o=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(n,i){return f.default.func(i.onstart)&&this.on("".concat(n,"start"),i.onstart),f.default.func(i.onmove)&&this.on("".concat(n,"move"),i.onmove),f.default.func(i.onend)&&this.on("".concat(n,"end"),i.onend),f.default.func(i.oninertiastart)&&this.on("".concat(n,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(n,i,r){(f.default.array(i)||f.default.object(i))&&this.off(n,i),(f.default.array(r)||f.default.object(r))&&this.on(n,r)}},{key:"setPerAction",value:function(n,i){var r=this._defaults;for(var l in i){var a=l,s=this.options[n],d=i[a];a==="listeners"&&this.updatePerActionListeners(n,s.listeners,d),f.default.array(d)?s[a]=Y.from(d):f.default.plainObject(d)?(s[a]=(0,k.default)(s[a]||{},(0,Se.default)(d)),f.default.object(r.perAction[a])&&"enabled"in r.perAction[a]&&(s[a].enabled=d.enabled!==!1)):f.default.bool(d)&&f.default.object(r.perAction[a])?s[a].enabled=d:s[a]=d}}},{key:"getRect",value:function(n){return n=n||(f.default.element(this.target)?this.target:null),f.default.string(this.target)&&(n=n||this._context.querySelector(this.target)),(0,C.getElementRect)(n)}},{key:"rectChecker",value:function(n){var i=this;return f.default.func(n)?(this._rectChecker=n,this.getRect=function(r){var l=(0,k.default)({},i._rectChecker(r));return"width"in l||(l.width=l.right-l.left,l.height=l.bottom-l.top),l},this):n===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(n,i){if((0,C.trySelector)(i)||f.default.object(i)){for(var r in this.options[n]=i,this._actions.map)this.options[r][n]=i;return this}return this.options[n]}},{key:"origin",value:function(n){return this._backCompatOption("origin",n)}},{key:"deltaSource",value:function(n){return n==="page"||n==="client"?(this.options.deltaSource=n,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(n){return this._context===n.ownerDocument||(0,C.nodeContains)(this._context,n)}},{key:"testIgnoreAllow",value:function(n,i,r){return!this.testIgnore(n.ignoreFrom,i,r)&&this.testAllow(n.allowFrom,i,r)}},{key:"testAllow",value:function(n,i,r){return!n||!!f.default.element(r)&&(f.default.string(n)?(0,C.matchesUpTo)(r,n,i):!!f.default.element(n)&&(0,C.nodeContains)(n,r))}},{key:"testIgnore",value:function(n,i,r){return!(!n||!f.default.element(r))&&(f.default.string(n)?(0,C.matchesUpTo)(r,n,i):!!f.default.element(n)&&(0,C.nodeContains)(n,r))}},{key:"fire",value:function(n){return this.events.fire(n),this}},{key:"_onOff",value:function(n,i,r,l){f.default.object(i)&&!f.default.array(i)&&(l=r,r=null);var a=n==="on"?"add":"remove",s=(0,Ce.default)(i,r);for(var d in s){d==="wheel"&&(d=G.default.wheelEvent);for(var p=0;p<s[d].length;p++){var v=s[d][p];(0,Qe.default)(d,this._actions)?this.events[n](d,v):f.default.string(this.target)?this._scopeEvents["".concat(a,"Delegate")](this.target,this._context,d,v,l):this._scopeEvents[a](this.target,d,v,l)}}return this}},{key:"on",value:function(n,i,r){return this._onOff("on",n,i,r)}},{key:"off",value:function(n,i,r){return this._onOff("off",n,i,r)}},{key:"set",value:function(n){var i=this._defaults;for(var r in f.default.object(n)||(n={}),this.options=(0,Se.default)(i.base),this._actions.methodDict){var l=r,a=this._actions.methodDict[l];this.options[l]={},this.setPerAction(l,(0,k.default)((0,k.default)({},i.perAction),i.actions[l])),this[a](n[l])}for(var s in n)f.default.func(this[s])&&this[s](n[s]);return this}},{key:"unset",value:function(){if(f.default.string(this.target))for(var n in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[n],r=i.length-1;r>=0;r--){var l=i[r],a=l.selector,s=l.context,d=l.listeners;a===this.target&&s===this._context&&i.splice(r,1);for(var p=d.length-1;p>=0;p--)this._scopeEvents.removeDelegate(this.target,this._context,n,d[p][0],d[p][1])}else this._scopeEvents.remove(this.target,"all")}}])&&hr(t.prototype,o),e}();_t.Interactable=vr;var kt={};function gr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(kt,"__esModule",{value:!0}),kt.InteractableSet=void 0;var mr=function(){function e(n){var i=this;(function(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=n,n.addListeners({"interactable:unset":function(r){var l=r.interactable,a=l.target,s=l._context,d=f.default.string(a)?i.selectorMap[a]:a[i.scope.id],p=Y.findIndex(d,function(v){return v.context===s});d[p]&&(d[p].context=null,d[p].interactable=null),d.splice(p,1)}})}var t,o;return t=e,(o=[{key:"new",value:function(n,i){i=(0,k.default)(i||{},{actions:this.scope.actions});var r=new this.scope.Interactable(n,i,this.scope.document,this.scope.events),l={context:r._context,interactable:r};return this.scope.addDocument(r._doc),this.list.push(r),f.default.string(n)?(this.selectorMap[n]||(this.selectorMap[n]=[]),this.selectorMap[n].push(l)):(r.target[this.scope.id]||Object.defineProperty(n,this.scope.id,{value:[],configurable:!0}),n[this.scope.id].push(l)),this.scope.fire("interactable:new",{target:n,options:i,interactable:r,win:this.scope._win}),r}},{key:"get",value:function(n,i){var r=i&&i.context||this.scope.document,l=f.default.string(n),a=l?this.selectorMap[n]:n[this.scope.id];if(!a)return null;var s=Y.find(a,function(d){return d.context===r&&(l||d.interactable.inContext(n))});return s&&s.interactable}},{key:"forEachMatch",value:function(n,i){for(var r=0;r<this.list.length;r++){var l=this.list[r],a=void 0;if((f.default.string(l.target)?f.default.element(n)&&C.matchesSelector(n,l.target):n===l.target)&&l.inContext(n)&&(a=i(l)),a!==void 0)return a}}}])&&gr(t.prototype,o),e}();kt.InteractableSet=mr;var Ct={};function yr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yn(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(p){l=!0,a=p}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return ko(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ko(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ko(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0;var br=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=n,(0,Ye.default)(this,n)}var t,o;return t=e,(o=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&yr(t.prototype,o),e}();function Je(e){if(!f.default.object(e))return{capture:!!e,passive:!1};var t=(0,k.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var wr={id:"events",install:function(e){var t,o=[],n={},i=[],r={add:l,remove:a,addDelegate:function(p,v,y,w,g){var x=Je(g);if(!n[y]){n[y]=[];for(var T=0;T<i.length;T++){var E=i[T];l(E,y,s),l(E,y,d,!0)}}var M=n[y],D=Y.find(M,function(L){return L.selector===p&&L.context===v});D||(D={selector:p,context:v,listeners:[]},M.push(D)),D.listeners.push([w,x])},removeDelegate:function(p,v,y,w,g){var x,T=Je(g),E=n[y],M=!1;if(E)for(x=E.length-1;x>=0;x--){var D=E[x];if(D.selector===p&&D.context===v){for(var L=D.listeners,W=L.length-1;W>=0;W--){var $=yn(L[W],2),F=$[0],N=$[1],se=N.capture,ge=N.passive;if(F===w&&se===T.capture&&ge===T.passive){L.splice(W,1),L.length||(E.splice(x,1),a(v,y,s),a(v,y,d,!0)),M=!0;break}}if(M)break}}},delegateListener:s,delegateUseCapture:d,delegatedEvents:n,documents:i,targets:o,supportsOptions:!1,supportsPassive:!1};function l(p,v,y,w){var g=Je(w),x=Y.find(o,function(T){return T.eventTarget===p});x||(x={eventTarget:p,events:{}},o.push(x)),x.events[v]||(x.events[v]=[]),p.addEventListener&&!Y.contains(x.events[v],y)&&(p.addEventListener(v,y,r.supportsOptions?g:g.capture),x.events[v].push(y))}function a(p,v,y,w){var g=Je(w),x=Y.findIndex(o,function(W){return W.eventTarget===p}),T=o[x];if(T&&T.events)if(v!=="all"){var E=!1,M=T.events[v];if(M){if(y==="all"){for(var D=M.length-1;D>=0;D--)a(p,v,M[D],g);return}for(var L=0;L<M.length;L++)if(M[L]===y){p.removeEventListener(v,y,r.supportsOptions?g:g.capture),M.splice(L,1),M.length===0&&(delete T.events[v],E=!0);break}}E&&!Object.keys(T.events).length&&o.splice(x,1)}else for(v in T.events)T.events.hasOwnProperty(v)&&a(p,v,"all")}function s(p,v){for(var y=Je(v),w=new br(p),g=n[p.type],x=yn(_.getEventTargets(p),1)[0],T=x;f.default.element(T);){for(var E=0;E<g.length;E++){var M=g[E],D=M.selector,L=M.context;if(C.matchesSelector(T,D)&&C.nodeContains(L,x)&&C.nodeContains(L,T)){var W=M.listeners;w.currentTarget=T;for(var $=0;$<W.length;$++){var F=yn(W[$],2),N=F[0],se=F[1],ge=se.capture,In=se.passive;ge===y.capture&&In===y.passive&&N(w)}}}T=C.parentNode(T)}}function d(p){return s(p,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r,r}};Ct.default=wr;var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.default=void 0;var It={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<It.methodOrder.length;t++){var o;o=It.methodOrder[t];var n=It[o](e);if(n)return n}return null},simulationResume:function(e){var t=e.pointerType,o=e.eventType,n=e.eventTarget,i=e.scope;if(!/down|start/i.test(o))return null;for(var r=0;r<i.interactions.list.length;r++){var l=i.interactions.list[r],a=n;if(l.simulation&&l.simulation.allowResume&&l.pointerType===t)for(;a;){if(a===l.element)return l;a=C.parentNode(a)}}return null},mouseOrPen:function(e){var t,o=e.pointerId,n=e.pointerType,i=e.eventType,r=e.scope;if(n!=="mouse"&&n!=="pen")return null;for(var l=0;l<r.interactions.list.length;l++){var a=r.interactions.list[l];if(a.pointerType===n){if(a.simulation&&!Co(a,o))continue;if(a.interacting())return a;t||(t=a)}}if(t)return t;for(var s=0;s<r.interactions.list.length;s++){var d=r.interactions.list[s];if(!(d.pointerType!==n||/down/i.test(i)&&d.simulation))return d}return null},hasPointer:function(e){for(var t=e.pointerId,o=e.scope,n=0;n<o.interactions.list.length;n++){var i=o.interactions.list[n];if(Co(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,o=e.scope,n=0;n<o.interactions.list.length;n++){var i=o.interactions.list[n];if(i.pointers.length===1){var r=i.interactable;if(r&&(!r.options.gesture||!r.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Co(e,t){return e.pointers.some(function(o){return o.id===t})}var Er=It;At.default=Er;var Dt={};function Ao(e){return(Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Io(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(p){l=!0,a=p}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return Do(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Do(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Do(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Pr(e,t){return!t||Ao(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=void 0;var wn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ro(e,t){return function(o){var n=t.interactions.list,i=_.getPointerType(o),r=Io(_.getEventTargets(o),2),l=r[0],a=r[1],s=[];if(/^touch/.test(o.type)){t.prevTouchTime=t.now();for(var d=0;d<o.changedTouches.length;d++){var p=o.changedTouches[d],v={pointer:p,pointerId:_.getPointerId(p),pointerType:i,eventType:o.type,eventTarget:l,curEventTarget:a,scope:t},y=Lo(v);s.push([v.pointer,v.eventTarget,v.curEventTarget,y])}}else{var w=!1;if(!G.default.supportsPointerEvent&&/mouse/.test(o.type)){for(var g=0;g<n.length&&!w;g++)w=n[g].pointerType!=="mouse"&&n[g].pointerIsDown;w=w||t.now()-t.prevTouchTime<500||o.timeStamp===0}if(!w){var x={pointer:o,pointerId:_.getPointerId(o),pointerType:i,eventType:o.type,curEventTarget:a,eventTarget:l,scope:t},T=Lo(x);s.push([x.pointer,x.eventTarget,x.curEventTarget,T])}}for(var E=0;E<s.length;E++){var M=Io(s[E],4),D=M[0],L=M[1],W=M[2];M[3][e](D,o,L,W)}}}function Lo(e){var t=e.pointerType,o=e.scope,n={interaction:At.default.search(e),searchDetails:e};return o.fire("interactions:find",n),n.interaction||o.interactions.new({pointerType:t})}function En(e,t){var o=e.doc,n=e.scope,i=e.options,r=n.interactions.docEvents,l=n.events,a=l[t];for(var s in n.browser.isIOS&&!i.events&&(i.events={passive:!1}),l.delegatedEvents)a(o,s,l.delegateListener),a(o,s,l.delegateUseCapture,!0);for(var d=i&&i.events,p=0;p<r.length;p++){var v=r[p];a(o,v.type,v.listener,d)}}var Tr={id:"core/interactions",install:function(e){for(var t={},o=0;o<wn.length;o++){var n=wn[o];t[n]=Ro(n,e)}var i,r=G.default.pEventTypes;function l(){for(var a=0;a<e.interactions.list.length;a++){var s=e.interactions.list[a];if(s.pointerIsDown&&s.pointerType==="touch"&&!s._interacting)for(var d=function(){var v=s.pointers[p];e.documents.some(function(y){var w=y.doc;return(0,C.nodeContains)(w,v.downTarget)})||s.removePointer(v.pointer,v.event)},p=0;p<s.pointers.length;p++)d()}}(i=j.default.PointerEvent?[{type:r.down,listener:l},{type:r.down,listener:t.pointerDown},{type:r.move,listener:t.pointerMove},{type:r.up,listener:t.pointerUp},{type:r.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(a){for(var s=0;s<e.interactions.list.length;s++)e.interactions.list[s].documentBlur(a)}}),e.prevTouchTime=0,e.Interaction=function(a){(function(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),x&&jo(g,x)})(w,a);var s,d,p,v,y=(p=w,v=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,x=bn(p);if(v){var T=bn(this).constructor;g=Reflect.construct(x,arguments,T)}else g=x.apply(this,arguments);return Pr(this,g)});function w(){return xr(this,w),y.apply(this,arguments)}return s=w,(d=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(g){e.interactions.pointerMoveTolerance=g}},{key:"_now",value:function(){return e.now()}}])&&Sr(s.prototype,d),w}(oe.default),e.interactions={list:[],new:function(a){a.scopeFire=function(d,p){return e.fire(d,p)};var s=new e.Interaction(a);return e.interactions.list.push(s),s},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(De.default)},listeners:{"scope:add-document":function(e){return En(e,"add")},"scope:remove-document":function(e){return En(e,"remove")},"interactable:unset":function(e,t){for(var o=e.interactable,n=t.interactions.list.length-1;n>=0;n--){var i=t.interactions.list[n];i.interactable===o&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:En,doOnInteractions:Ro,methodNames:wn};Dt.default=Tr;var et={};function Ho(e){return(Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xn(e,t,o){return(xn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(n,i,r){var l=function(s,d){for(;!Object.prototype.hasOwnProperty.call(s,d)&&(s=Le(s))!==null;);return s}(n,i);if(l){var a=Object.getOwnPropertyDescriptor(l,i);return a.get?a.get.call(r):a.value}})(e,t,o||e)}function zo(e,t){return(zo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Or(e,t){return!t||Ho(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e,t,o){return t&&Wo(e.prototype,t),o&&Wo(e,o),e}Object.defineProperty(et,"__esModule",{value:!0}),et.initScope=Bo,et.Scope=void 0;var Mr=function(){function e(){var t=this;Fo(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=G.default,this.defaults=(0,Se.default)($e.defaults),this.Eventable=Ke.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,mn.createInteractStatic)(this),this.InteractEvent=Ge.InteractEvent,this.Interactable=void 0,this.interactables=new kt.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(n){return t.removeDocument(n.target)};var o=this;this.Interactable=function(n){(function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),d&&zo(s,d)})(a,n);var i,r,l=(i=a,r=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}(),function(){var s,d=Le(i);if(r){var p=Le(this).constructor;s=Reflect.construct(d,arguments,p)}else s=d.apply(this,arguments);return Or(this,s)});function a(){return Fo(this,a),l.apply(this,arguments)}return Vo(a,[{key:"_defaults",get:function(){return o.defaults}},{key:"set",value:function(s){return xn(Le(a.prototype),"set",this).call(this,s),o.fire("interactable:set",{options:s,interactable:this}),this}},{key:"unset",value:function(){xn(Le(a.prototype),"unset",this).call(this),o.interactables.list.splice(o.interactables.list.indexOf(this),1),o.fire("interactable:unset",{interactable:this})}}]),a}(_t.Interactable)}return Vo(e,[{key:"addListeners",value:function(t,o){this.listenerMaps.push({id:o,map:t})}},{key:"fire",value:function(t,o){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&i(o,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Bo(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,o){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,o),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,r=t.before.reduce(function(a,s){return a[s]=!0,a[No(s)]=!0,a},{});n<i;n++){var l=this.listenerMaps[n].id;if(r[l]||r[No(l)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,o){if(this.getDocIndex(t)!==-1)return!1;var n=c.getWindow(t);o=o?(0,k.default)({},o):{},this.documents.push({doc:t,options:o}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:o})}},{key:"removeDocument",value:function(t){var o=this.getDocIndex(t),n=c.getWindow(t),i=this.documents[o].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(o,1),this.events.documents.splice(o,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var o=0;o<this.documents.length;o++)if(this.documents[o].doc===t)return o;return-1}},{key:"getDocOptions",value:function(t){var o=this.getDocIndex(t);return o===-1?null:this.documents[o].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Bo(e,t){return e.isInitialized=!0,f.default.window(t)&&c.init(t),j.default.init(t),G.default.init(t),le.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Dt.default),e.usePlugin(Ct.default),e}function No(e){return e&&e.replace(/\/.*$/,"")}et.Scope=Mr;var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var Xo=new et.Scope,_r=Xo.interactStatic;J.default=_r;var kr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;Xo.init(kr);var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=void 0,jt.default=function(){};var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0,Rt.default=function(){};var Lt={};function Yo(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(p){l=!0,a=p}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return qo(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qo(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qo(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0,Lt.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var i=Yo(n,2),r=i[0],l=i[1];return r in e||l in e}),o=function(n,i){for(var r=e.range,l=e.limits,a=l===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:l,s=e.offset,d=s===void 0?{x:0,y:0}:s,p={range:r,grid:e,x:null,y:null},v=0;v<t.length;v++){var y=Yo(t[v],2),w=y[0],g=y[1],x=Math.round((n-d.x)/e[w]),T=Math.round((i-d.y)/e[g]);p[w]=Math.max(a.left,Math.min(a.right,x*e[w]+d.x)),p[g]=Math.max(a.top,Math.min(a.bottom,T*e[g]+d.y))}return p};return o.grid=e,o.coordFields=t,o};var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),Object.defineProperty(tt,"edgeTarget",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(tt,"elements",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(tt,"grid",{enumerable:!0,get:function(){return Lt.default}});var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var Cr={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,k.default)(t.snappers||{},tt),t.createSnapGrid=t.snappers.grid}};Ht.default=Cr;var He={};function Uo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),o.push.apply(o,n)}return o}function Sn(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Uo(Object(o),!0).forEach(function(n){Ar(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Uo(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function Ar(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(He,"__esModule",{value:!0}),He.aspectRatio=He.default=void 0;var $o={start:function(e){if(!e.state.options.enabled)return!1;var t=e.state,o=e.rect,n=e.edges,i=e.pageCoords,r=t.options.ratio,l=t.options,a=l.equalDelta,s=l.modifiers;r==="preserve"&&(r=o.width/o.height),t.startCoords=(0,k.default)({},i),t.startRect=(0,k.default)({},o),t.ratio=r,t.equalDelta=a;var d=t.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(t.xIsPrimaryAxis=!(!n.left&&!n.right),t.equalDelta)t.edgeSign=(d.left?1:-1)*(d.top?1:-1);else{var p=t.xIsPrimaryAxis?d.top:d.left;t.edgeSign=p?-1:1}if((0,k.default)(e.edges,d),s&&s.length){var v=new Pe.default(e.interaction);v.copyFrom(e.interaction.modification),v.prepareStates(s),t.subModification=v,v.startAll(Sn({},e))}},set:function(e){if(e.state.options.enabled===!1)return!1;var t=e.state,o=e.rect,n=e.coords,i=(0,k.default)({},n),r=t.equalDelta?Ir:Dr;if(r(t,t.xIsPrimaryAxis,n,o),!t.subModification)return null;var l=(0,k.default)({},o);(0,U.addEdges)(t.linkedEdges,l,{x:n.x-i.x,y:n.y-i.y});var a=t.subModification.setAll(Sn(Sn({},e),{},{rect:l,edges:t.linkedEdges,pageCoords:n,prevCoords:n,prevRect:l})),s=a.delta;return a.changed&&(r(t,Math.abs(s.x)>Math.abs(s.y),a.coords,a.rect),(0,k.default)(n,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ir(e,t,o){var n=e.startCoords,i=e.edgeSign;t?o.y=n.y+(o.x-n.x)*i:o.x=n.x+(o.y-n.y)*i}function Dr(e,t,o,n){var i=e.startRect,r=e.startCoords,l=e.ratio,a=e.edgeSign;if(t){var s=n.width/l;o.y=r.y+(s-i.height)*a}else{var d=n.height*l;o.x=r.x+(d-i.width)*a}}He.aspectRatio=$o;var jr=(0,Q.makeModifier)($o,"aspectRatio");He.default=jr;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var Go=function(){};Go._defaults={};var Rr=Go;Oe.default=Rr;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Object.defineProperty(Pn,"default",{enumerable:!0,get:function(){return Oe.default}});var ee={};function Tn(e,t,o){return f.default.func(e)?U.resolveRectLike(e,t.interactable,t.element,[o.x,o.y,t]):U.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(ee,"__esModule",{value:!0}),ee.getRestrictionRect=Tn,ee.restrict=ee.default=void 0;var Zo={start:function(e){var t=e.rect,o=e.startOffset,n=e.state,i=e.interaction,r=e.pageCoords,l=n.options,a=l.elementRect,s=(0,k.default)({left:0,top:0,right:0,bottom:0},l.offset||{});if(t&&a){var d=Tn(l.restriction,i,r);if(d){var p=d.right-d.left-t.width,v=d.bottom-d.top-t.height;p<0&&(s.left+=p,s.right+=p),v<0&&(s.top+=v,s.bottom+=v)}s.left+=o.left-t.width*a.left,s.top+=o.top-t.height*a.top,s.right+=o.right-t.width*(1-a.right),s.bottom+=o.bottom-t.height*(1-a.bottom)}n.offset=s},set:function(e){var t=e.coords,o=e.interaction,n=e.state,i=n.options,r=n.offset,l=Tn(i.restriction,o,t);if(l){var a=U.xywhToTlbr(l);t.x=Math.max(Math.min(a.right-r.right,t.x),a.left+r.left),t.y=Math.max(Math.min(a.bottom-r.bottom,t.y),a.top+r.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ee.restrict=Zo;var Lr=(0,Q.makeModifier)(Zo,"restrict");ee.default=Lr;var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.restrictEdges=de.default=void 0;var Ko={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Qo={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Jo(e,t){for(var o=["top","left","bottom","right"],n=0;n<o.length;n++){var i=o[n];i in e||(e[i]=t[i])}return e}var ei={noInner:Ko,noOuter:Qo,start:function(e){var t,o=e.interaction,n=e.startOffset,i=e.state,r=i.options;if(r){var l=(0,ee.getRestrictionRect)(r.offset,o,o.coords.start.page);t=U.rectToXY(l)}t=t||{x:0,y:0},i.offset={top:t.y+n.top,left:t.x+n.left,bottom:t.y-n.bottom,right:t.x-n.right}},set:function(e){var t=e.coords,o=e.edges,n=e.interaction,i=e.state,r=i.offset,l=i.options;if(o){var a=(0,k.default)({},t),s=(0,ee.getRestrictionRect)(l.inner,n,a)||{},d=(0,ee.getRestrictionRect)(l.outer,n,a)||{};Jo(s,Ko),Jo(d,Qo),o.top?t.y=Math.min(Math.max(d.top+r.top,a.y),s.top+r.top):o.bottom&&(t.y=Math.max(Math.min(d.bottom+r.bottom,a.y),s.bottom+r.bottom)),o.left?t.x=Math.min(Math.max(d.left+r.left,a.x),s.left+r.left):o.right&&(t.x=Math.max(Math.min(d.right+r.right,a.x),s.right+r.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};de.restrictEdges=ei;var Hr=(0,Q.makeModifier)(ei,"restrictEdges");de.default=Hr;var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.restrictRect=ze.default=void 0;var zr=(0,k.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ee.restrict.defaults),ti={start:ee.restrict.start,set:ee.restrict.set,defaults:zr};ze.restrictRect=ti;var Fr=(0,Q.makeModifier)(ti,"restrictRect");ze.default=Fr;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.restrictSize=Fe.default=void 0;var Wr={width:-1/0,height:-1/0},Vr={width:1/0,height:1/0},ni={start:function(e){return de.restrictEdges.start(e)},set:function(e){var t=e.interaction,o=e.state,n=e.rect,i=e.edges,r=o.options;if(i){var l=U.tlbrToXywh((0,ee.getRestrictionRect)(r.min,t,e.coords))||Wr,a=U.tlbrToXywh((0,ee.getRestrictionRect)(r.max,t,e.coords))||Vr;o.options={endOnly:r.endOnly,inner:(0,k.default)({},de.restrictEdges.noInner),outer:(0,k.default)({},de.restrictEdges.noOuter)},i.top?(o.options.inner.top=n.bottom-l.height,o.options.outer.top=n.bottom-a.height):i.bottom&&(o.options.inner.bottom=n.top+l.height,o.options.outer.bottom=n.top+a.height),i.left?(o.options.inner.left=n.right-l.width,o.options.outer.left=n.right-a.width):i.right&&(o.options.inner.right=n.left+l.width,o.options.outer.right=n.left+a.width),de.restrictEdges.set(e),o.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Fe.restrictSize=ni;var Br=(0,Q.makeModifier)(ni,"restrictSize");Fe.default=Br;var On={};Object.defineProperty(On,"__esModule",{value:!0}),Object.defineProperty(On,"default",{enumerable:!0,get:function(){return Oe.default}});var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.snap=be.default=void 0;var oi={start:function(e){var t,o=e.interaction,n=e.interactable,i=e.element,r=e.rect,l=e.state,a=e.startOffset,s=l.options,d=s.offsetWithOrigin?function(y){var w=y.interaction.element;return(0,U.rectToXY)((0,U.resolveRectLike)(y.state.options.origin,null,null,[w]))||(0,Ee.default)(y.interactable,w,y.interaction.prepared.name)}(e):{x:0,y:0};if(s.offset==="startCoords")t={x:o.coords.start.page.x,y:o.coords.start.page.y};else{var p=(0,U.resolveRectLike)(s.offset,n,i,[o]);(t=(0,U.rectToXY)(p)||{x:0,y:0}).x+=d.x,t.y+=d.y}var v=s.relativePoints;l.offsets=r&&v&&v.length?v.map(function(y,w){return{index:w,relativePoint:y,x:a.left-r.width*y.x+t.x,y:a.top-r.height*y.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,o=e.coords,n=e.state,i=n.options,r=n.offsets,l=(0,Ee.default)(t.interactable,t.element,t.prepared.name),a=(0,k.default)({},o),s=[];i.offsetWithOrigin||(a.x-=l.x,a.y-=l.y);for(var d=0;d<r.length;d++)for(var p=r[d],v=a.x-p.x,y=a.y-p.y,w=0,g=i.targets.length;w<g;w++){var x,T=i.targets[w];(x=f.default.func(T)?T(v,y,t._proxy,p,w):T)&&s.push({x:(f.default.number(x.x)?x.x:v)+p.x,y:(f.default.number(x.y)?x.y:y)+p.y,range:f.default.number(x.range)?x.range:i.range,source:T,index:w,offset:p})}for(var E={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},M=0;M<s.length;M++){var D=s[M],L=D.range,W=D.x-a.x,$=D.y-a.y,F=(0,me.default)(W,$),N=F<=L;L===1/0&&E.inRange&&E.range!==1/0&&(N=!1),E.target&&!(N?E.inRange&&L!==1/0?F/L<E.distance/E.range:L===1/0&&E.range!==1/0||F<E.distance:!E.inRange&&F<E.distance)||(E.target=D,E.distance=F,E.range=L,E.inRange=N,E.delta.x=W,E.delta.y=$)}return E.inRange&&(o.x=E.target.x,o.y=E.target.y),n.closest=E,E},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};be.snap=oi;var Nr=(0,Q.makeModifier)(oi,"snap");be.default=Nr;var ve={};function ii(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(ve,"__esModule",{value:!0}),ve.snapSize=ve.default=void 0;var ri={start:function(e){var t=e.state,o=e.edges,n=t.options;if(!o)return null;e.state={options:{targets:null,relativePoints:[{x:o.left?0:1,y:o.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],be.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,o,n=e.interaction,i=e.state,r=e.coords,l=i.options,a=i.offsets,s={x:r.x-a[0].x,y:r.y-a[0].y};i.options=(0,k.default)({},l),i.options.targets=[];for(var d=0;d<(l.targets||[]).length;d++){var p=(l.targets||[])[d],v=void 0;if(v=f.default.func(p)?p(s.x,s.y,n):p){for(var y=0;y<i.targetFields.length;y++){var w=(t=i.targetFields[y],o=2,function(E){if(Array.isArray(E))return E}(t)||function(E,M){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(E)){var D=[],L=!0,W=!1,$=void 0;try{for(var F,N=E[Symbol.iterator]();!(L=(F=N.next()).done)&&(D.push(F.value),!M||D.length!==M);L=!0);}catch(se){W=!0,$=se}finally{try{L||N.return==null||N.return()}finally{if(W)throw $}}return D}}(t,o)||function(E,M){if(E){if(typeof E=="string")return ii(E,M);var D=Object.prototype.toString.call(E).slice(8,-1);return D==="Object"&&E.constructor&&(D=E.constructor.name),D==="Map"||D==="Set"?Array.from(E):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?ii(E,M):void 0}}(t,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),g=w[0],x=w[1];if(g in v||x in v){v.x=v[g],v.y=v[x];break}}i.options.targets.push(v)}}var T=be.snap.set(e);return i.options=l,T},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};ve.snapSize=ri;var Xr=(0,Q.makeModifier)(ri,"snapSize");ve.default=Xr;var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.snapEdges=We.default=void 0;var ai={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],ve.snapSize.start(e)):null},set:ve.snapSize.set,defaults:(0,k.default)((0,Se.default)(ve.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};We.snapEdges=ai;var Yr=(0,Q.makeModifier)(ai,"snapEdges");We.default=Yr;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Object.defineProperty(Mn,"default",{enumerable:!0,get:function(){return Oe.default}});var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),Object.defineProperty(_n,"default",{enumerable:!0,get:function(){return Oe.default}});var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var qr={aspectRatio:He.default,restrictEdges:de.default,restrict:ee.default,restrictRect:ze.default,restrictSize:Fe.default,snapEdges:We.default,snap:be.default,snapSize:ve.default,spring:Mn.default,avoid:Pn.default,transform:_n.default,rubberband:On.default};Ve.default=qr;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0;var Ur={id:"modifiers",install:function(e){var t=e.interactStatic;for(var o in e.usePlugin(Q.default),e.usePlugin(Ht.default),t.modifiers=Ve.default,Ve.default){var n=Ve.default[o],i=n._defaults,r=n._methods;i._methods=r,e.defaults.perAction[o]=i}}};zt.default=Ur;var Me={};function si(e){return(si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function li(e,t){return(li=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Gr(e,t){return!t||si(t)!=="object"&&typeof t!="function"?kn(e):t}function kn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Me,"__esModule",{value:!0}),Me.PointerEvent=Me.default=void 0;var Zr=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&li(a,s)})(l,e);var t,o,n,i,r=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=Cn(n);if(i){var d=Cn(this).constructor;a=Reflect.construct(s,arguments,d)}else a=s.apply(this,arguments);return Gr(this,a)});function l(a,s,d,p,v,y){var w;if(function(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}(this,l),(w=r.call(this,v)).type=void 0,w.originalEvent=void 0,w.pointerId=void 0,w.pointerType=void 0,w.double=void 0,w.pageX=void 0,w.pageY=void 0,w.clientX=void 0,w.clientY=void 0,w.dt=void 0,w.eventable=void 0,_.pointerExtend(kn(w),d),d!==s&&_.pointerExtend(kn(w),s),w.timeStamp=y,w.originalEvent=d,w.type=a,w.pointerId=_.getPointerId(s),w.pointerType=_.getPointerType(s),w.target=p,w.currentTarget=null,a==="tap"){var g=v.getPointerIndex(s);w.dt=w.timeStamp-v.pointers[g].downTime;var x=w.timeStamp-v.tapTime;w.double=!!(v.prevTap&&v.prevTap.type!=="doubletap"&&v.prevTap.target===w.target&&x<500)}else a==="doubletap"&&(w.dt=s.timeStamp-v.tapTime);return w}return t=l,(o=[{key:"_subtractOrigin",value:function(a){var s=a.x,d=a.y;return this.pageX-=s,this.pageY-=d,this.clientX-=s,this.clientY-=d,this}},{key:"_addOrigin",value:function(a){var s=a.x,d=a.y;return this.pageX+=s,this.pageY+=d,this.clientX+=s,this.clientY+=d,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&$r(t.prototype,o),l}(Ae.BaseEvent);Me.PointerEvent=Me.default=Zr;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0;var Ft={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Ft,e.defaults.actions.pointerEvents=Ft.defaults,(0,k.default)(e.actions.phaselessTypes,Ft.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,o=e.pointerInfo;!t&&o.hold||(o.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget;e.duplicate||o.pointerIsDown&&!o.pointerWasMoved||(o.pointerIsDown&&An(e),we({interaction:o,pointer:n,event:i,eventTarget:r,type:"move"},t))},"interactions:down":function(e,t){(function(o,n){for(var i=o.interaction,r=o.pointer,l=o.event,a=o.eventTarget,s=o.pointerIndex,d=i.pointers[s].hold,p=C.getPath(a),v={interaction:i,pointer:r,event:l,eventTarget:a,type:"hold",targets:[],path:p,node:null},y=0;y<p.length;y++){var w=p[y];v.node=w,n.fire("pointerEvents:collect-targets",v)}if(v.targets.length){for(var g=1/0,x=0;x<v.targets.length;x++){var T=v.targets[x].eventable.options.holdDuration;T<g&&(g=T)}d.duration=g,d.timeout=setTimeout(function(){we({interaction:i,eventTarget:a,pointer:r,event:l,type:"hold"},n)},g)}})(e,t),we(e,t)},"interactions:up":function(e,t){An(e),we(e,t),function(o,n){var i=o.interaction,r=o.pointer,l=o.event,a=o.eventTarget;i.pointerWasMoved||we({interaction:i,eventTarget:a,pointer:r,event:l,type:"tap"},n)}(e,t)},"interactions:cancel":function(e,t){An(e),we(e,t)}},PointerEvent:Me.PointerEvent,fire:we,collectEventTargets:ci,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function we(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget,l=e.type,a=e.targets,s=a===void 0?ci(e,t):a,d=new Me.PointerEvent(l,n,i,r,o,t.now());t.fire("pointerEvents:new",{pointerEvent:d});for(var p={interaction:o,pointer:n,event:i,eventTarget:r,targets:s,type:l,pointerEvent:d},v=0;v<s.length;v++){var y=s[v];for(var w in y.props||{})d[w]=y.props[w];var g=(0,Ee.default)(y.eventable,y.node);if(d._subtractOrigin(g),d.eventable=y.eventable,d.currentTarget=y.node,y.eventable.fire(d),d._addOrigin(g),d.immediatePropagationStopped||d.propagationStopped&&v+1<s.length&&s[v+1].node!==d.currentTarget)break}if(t.fire("pointerEvents:fired",p),l==="tap"){var x=d.double?we({interaction:o,pointer:n,event:i,eventTarget:r,type:"doubletap"},t):d;o.prevTap=x,o.tapTime=x.timeStamp}return d}function ci(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget,l=e.type,a=o.getPointerIndex(n),s=o.pointers[a];if(l==="tap"&&(o.pointerWasMoved||!s||s.downTarget!==r))return[];for(var d=C.getPath(r),p={interaction:o,pointer:n,event:i,eventTarget:r,type:l,path:d,targets:[],node:null},v=0;v<d.length;v++){var y=d[v];p.node=y,t.fire("pointerEvents:collect-targets",p)}return l==="hold"&&(p.targets=p.targets.filter(function(w){var g;return w.eventable.options.holdDuration===((g=o.pointers[a])==null?void 0:g.hold.duration)})),p.targets}function An(e){var t=e.interaction,o=e.pointerIndex,n=t.pointers[o].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var Kr=Ft;nt.default=Kr;var Wt={};function Qr(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var Jr={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(nt.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Qr,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var o=e.interaction,n=e.pointerEvent,i=e.eventTarget,r=e.targets;if(n.type==="hold"&&r.length){var l=r[0].eventable.options.holdRepeatInterval;l<=0||(o.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:o,eventTarget:i,type:"hold",pointer:n,event:n},t)},l))}}})};Wt.default=Jr;var Vt={};function ea(e){return(0,k.default)(this.events.options,e),this}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0;var ta={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=ea;var o=t.prototype._backCompatOption;t.prototype._backCompatOption=function(n,i){var r=o.call(this,n,i);return r===this&&(this.events.options[n]=i),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var o=e.targets,n=e.node,i=e.type,r=e.eventTarget;t.interactables.forEachMatch(n,function(l){var a=l.events,s=a.options;a.types[i]&&a.types[i].length&&l.testIgnoreAllow(s,n,r)&&o.push({node:n,eventable:a,props:{interactable:l}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(o){return t.getRect(o)}},"interactable:set":function(e,t){var o=e.interactable,n=e.options;(0,k.default)(o.events.options,t.pointerEvents.defaults),(0,k.default)(o.events.options,n.pointerEvents||{})}}};Vt.default=ta;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var na={id:"pointer-events",install:function(e){e.usePlugin(nt),e.usePlugin(Wt.default),e.usePlugin(Vt.default)}};Bt.default=na;var ot={};function ui(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(o){return function(n,i,r){for(var l=f.default.string(n.target)?Y.from(n._context.querySelectorAll(n.target)):[n.target],a=r.window.Promise,s=a?[]:null,d=function(){var v=l[p],y=n.getRect(v);if(!y)return"break";var w=Y.find(r.interactions.list,function(M){return M.interacting()&&M.interactable===n&&M.element===v&&M.prepared.name===i.name}),g=void 0;if(w)w.move(),s&&(g=w._reflowPromise||new a(function(M){w._reflowResolve=M}));else{var x=(0,U.tlbrToXywh)(y),T={page:{x:x.x,y:x.y},client:{x:x.x,y:x.y},timeStamp:r.now()},E=_.coordsToEvent(T);g=function(M,D,L,W,$){var F=M.interactions.new({pointerType:"reflow"}),N={interaction:F,event:$,pointer:$,eventTarget:L,phase:"reflow"};F.interactable=D,F.element=L,F.prevEvent=$,F.updatePointer($,$,L,!0),_.setZeroCoords(F.coords.delta),(0,re.copyAction)(F.prepared,W),F._doPhase(N);var se=M.window.Promise,ge=se?new se(function(In){F._reflowResolve=In}):void 0;return F._reflowPromise=ge,F.start(W,D,L),F._interacting?(F.move(N),F.end($)):(F.stop(),F._reflowResolve()),F.removePointer($,$),ge}(r,n,v,i,E)}s&&s.push(g)},p=0;p<l.length&&d()!=="break";p++);return s&&a.all(s).then(function(){return n})}(this,o,e)}}Object.defineProperty(ot,"__esModule",{value:!0}),ot.install=ui,ot.default=void 0;var oa={id:"reflow",install:ui,listeners:{"interactions:stop":function(e,t){var o=e.interaction;o.pointerType==="reflow"&&(o._reflowResolve&&o._reflowResolve(),Y.remove(t.interactions.list,o))}}};ot.default=oa;var ae={exports:{}};function di(e){return(di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(ae.exports,"__esModule",{value:!0}),ae.exports.default=void 0,J.default.use(De.default),J.default.use(Te.default),J.default.use(Bt.default),J.default.use(Re.default),J.default.use(zt.default),J.default.use(wt.default),J.default.use(ht.default),J.default.use(ye.default),J.default.use(ot.default),J.default.use(xt.default);var ia=J.default;if(ae.exports.default=ia,di(ae)==="object"&&ae)try{ae.exports=J.default}catch(e){}J.default.default=J.default,ae=ae.exports;var _e={exports:{}};function pi(e){return(pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(_e.exports,"__esModule",{value:!0}),_e.exports.default=void 0;var ra=ae.default;if(_e.exports.default=ra,pi(_e)==="object"&&_e)try{_e.exports=ae.default}catch(e){}return ae.default.default=ae.default,_e.exports})});var ki=hi((Va,_i)=>{_i.exports=function(c,u){u||(u=[0,""]),c=String(c);var h=parseFloat(c,10);return u[0]=h,u[1]=c.match(/[\d.\-\+]*\s*(.*)/)[1]||"",u}});da(exports,{default:()=>Wn,genId:()=>Hn});function ce(m,c){let u=Object.keys(c).map(h=>fa(m,h,c[h]));return u.length===1?u[0]:function(){u.forEach(h=>h())}}function fa(m,c,u){let h=m[c],b=m.hasOwnProperty(c),f=u(h);return h&&Object.setPrototypeOf(f,h),Object.setPrototypeOf(P,f),m[c]=P,S;function P(...I){return f===h&&m[c]===P&&S(),f.apply(this,I)}function S(){m[c]===P&&(b?m[c]=h:delete m[c]),f!==h&&(f=h,Object.setPrototypeOf(P,h||Function))}}var K=it(require("obsidian"));var $t=it(require("obsidian"));var Xe=it(gi());var H=it(require("obsidian"));var mi=10,jn=60;function Be(){let m=document.body.querySelector(".app-container"),c=document.body.querySelector(".mod-left.workspace-ribbon"),u=m.offsetTop,h=document.body.hasClass("hider-ribbon")?0:c?c.offsetWidth:0;return{top:u,left:h}}function ha(m){let c=m.getAttribute("data-orig-height"),u=m.getAttribute("data-orig-width"),h=parseFloat(m.getAttribute("data-orig-pos-left")||"0"),b=parseFloat(m.getAttribute("data-orig-pos-top")||"0"),f=Be().top;return b<f&&(b=f),{height:c,width:u,top:b,left:h}}function Ne(m,c){let{height:u,width:h,top:b,left:f}=ha(m);c||(m.removeAttribute("data-orig-width"),m.removeAttribute("data-orig-height"),m.removeAttribute("data-orig-pos-left"),m.removeAttribute("data-orig-pos-top")),h&&(m.style.width=h+"px"),u&&(m.style.height=u+"px"),b&&(m.style.top=b+"px",m.setAttribute("data-y",String(b))),f&&(m.style.left=f+"px")}function Xt(m){if(m.hasClass("snap-to-viewport")){m.removeClass("snap-to-viewport"),Ne(m);return}}function Rn(m,c){let u=m.querySelector(".view-content").offsetHeight;u=c?-u:u;let h=parseFloat(m.getAttribute("data-y")||"0")+u;m.style.top=h+"px",m.setAttribute("data-y",String(h))}function rt(m){m.hasAttribute("data-orig-width")||m.setAttribute("data-orig-width",String(m.offsetWidth)),m.hasAttribute("data-orig-height")||m.setAttribute("data-orig-height",String(m.offsetHeight)),m.hasAttribute("data-orig-pos-left")||m.setAttribute("data-orig-pos-left",String(parseFloat(m.style.left))),m.hasAttribute("data-orig-pos-top")||m.setAttribute("data-orig-pos-top",String(parseFloat(m.style.top)))}function yi(m){return m.hasAttribute("data-orig-width")&&m.hasAttribute("data-orig-height")&&m.hasAttribute("data-orig-pos-left")&&m.hasAttribute("data-orig-pos-top")}function Ln(m){let c=m.target,u=m.client.x-m.rect.left,h=m.rect.width,b=u/h,f=c.offsetWidth,P=String(m.client.x-b*f),S=String(m.client.y);c.setAttribute("data-x",String(P)),c.setAttribute("data-y",String(S))}function ke(m,c,u){m.addClass(`snap-to-${c}`),m.style.top=u.top+"px",m.style.height=`calc(100vh - ${u.top}px)`,m.style.left=c==="right"?"unset":u.left+"px",c==="viewport"&&(m.style.width=`calc(100vw - ${u.left}px)`)}function bi(m){let c=m.target,{x:u,y:h}=c.dataset;if(u=u||c.style.left,h=h||c.style.top,u=String((parseFloat(u)||0)+m.dx),h=String((parseFloat(h)||0)+m.dy),this.plugin.settings.snapToEdges){let b,f=m.client.x<mi,P=m.client.x>document.body.offsetWidth-mi,S=m.client.y<30;if((f||P||S)&&(b=Be(),rt(c)),f&&m.buttons){ke(c,"left",b);return}else if(P&&m.buttons){ke(c,"right",b);return}else if(S&&m.buttons){ke(c,"viewport",b);return}else if(c.hasClass("snap-to-viewport")){if(m.client.y<jn)return;c.removeClass("snap-to-viewport"),Ne(c),Ln(m);return}else if(c.hasClass("snap-to-left")){if(m.client.y<jn)return;c.removeClass("snap-to-left"),Ne(c),Ln(m);return}else if(c.hasClass("snap-to-right")){if(m.client.y<jn)return;c.removeClass("snap-to-right"),Ne(c),Ln(m);return}}c.style.top=h?h+"px":c.style.top,c.style.left=u?u+"px":c.style.left,c.setAttribute("data-x",String(u)),c.setAttribute("data-y",String(h))}var wi=["left","right","viewport"],Ei=(m,c)=>{let u=document.body.querySelector(".hover-editor.is-active");if(u&&u instanceof HTMLElement){if(!c){yi(u)?Ne(u,!0):rt(u),u.removeClasses(["snap-to-left","snap-to-right","snap-to-viewport"]);let h=Be();ke(u,m,h)}return!0}return!1},xi=m=>{let c=document.body.querySelector(".hover-editor.is-active");return c&&c instanceof HTMLElement?(m||yi(c)&&(c.removeClasses(["snap-to-left","snap-to-right","snap-to-viewport"]),Ne(c)),!0):!1},Si=m=>{let c=document.body.querySelector(".hover-editor.is-active"),u=Z.activePopovers().find(h=>h.hoverEl===c);return u?(m||u.toggleMinimized(),!0):!1};var Yt=new WeakMap,qt={x:0,y:0};function va(m){let c=function(){return H.Component.call(this)};return c.prototype=m.prototype,Object.setPrototypeOf(c,m)}var Ti,Oi,Z=class extends va(H.HoverPopover){constructor(c,u,h,b,f){super();this.targetEl=u;this.plugin=h;this.onShowCallback=f;this.isPinned=this.plugin.settings.autoPin==="always";this.abortController=this.addChild(new H.Component);this.detaching=!1;this.opening=!1;this.rootSplit=new H.WorkspaceSplit(window.app.workspace,"vertical");this.targetRect=(Ti=this.targetEl)==null?void 0:Ti.getBoundingClientRect();this.oldPopover=(Oi=this.parent)==null?void 0:Oi.hoverPopover;this.id=Hn(8);b===void 0&&(b=300),this.onTarget=!0,this.onHover=!1,this.shownPos=null,this.parent=c,this.waitTime=b,this.state=H.PopoverState.Showing;let P=this.hoverEl=createDiv({cls:"popover hover-popover",attr:{id:"he"+this.id}});this.onMouseIn=this._onMouseIn.bind(this),this.onMouseOut=this._onMouseOut.bind(this),this.abortController.load(),u&&(u.addEventListener("mouseover",this.onMouseIn),u.addEventListener("mouseout",this.onMouseOut)),P.addEventListener("mouseover",I=>{Ut(I,P)&&(this.onHover=!0,this.onTarget=!1,this.transition())}),P.addEventListener("mouseout",I=>{Ut(I,P)&&(this.onHover=!1,this.onTarget=!1,this.transition())}),this.timer=window.setTimeout(this.show.bind(this),b),document.addEventListener("mousemove",st),Yt.set(this.hoverEl,this),this.hoverEl.addClass("hover-editor"),this.containerEl=this.hoverEl.createDiv("popover-content"),this.buildWindowControls(),this.setInitialDimensions();let S=this.pinEl=createEl("a","popover-header-icon mod-pin-popover");this.titleEl.prepend(this.pinEl),S.onclick=()=>{this.togglePin()},H.requireApiVersion&&(0,H.requireApiVersion)("0.13.27")?(0,H.setIcon)(S,"lucide-pin",17):(0,H.setIcon)(S,"pin",17),this.createResizeHandles(),this.plugin.settings.imageZoom&&this.registerZoomImageHandlers()}static activePopovers(){return document.body.findAll(".hover-popover").map(c=>Yt.get(c)).filter(c=>c)}static forLeaf(c){let u=c==null?void 0:c.containerEl.matchParent(".hover-popover");return u?Yt.get(u):void 0}static iteratePopoverLeaves(c,u){for(let h of this.activePopovers())if(h.rootSplit&&c.iterateLeaves(u,h.rootSplit))return!0;return!1}adopt(c){if(this.targetEl===c)return!0;let u=c==null?void 0:c.getBoundingClientRect();if(Pi(this.targetRect,u)){this.targetEl.removeEventListener("mouseover",this.onMouseIn),this.targetEl.removeEventListener("mouseout",this.onMouseOut),c.addEventListener("mouseover",this.onMouseIn),c.addEventListener("mouseout",this.onMouseOut),this.targetEl=c,this.targetRect=u;let{x:h,y:b}=qt;return this.onTarget=Pi(u,{left:h,right:h,top:b,bottom:b}),this.transition(),!0}else this.onTarget=!1,this.transition();return!1}onZoomOut(){document.body.removeEventListener("mouseup",this.boundOnZoomOut),document.body.removeEventListener("dragend",this.boundOnZoomOut),this.hoverEl.hasClass("do-not-restore")?this.hoverEl.removeClass("do-not-restore"):Xt(this.hoverEl)}onZoomIn(c){if(c.button!==0)return;this.hoverEl.hasClass("snap-to-viewport")&&this.hoverEl.addClass("do-not-restore"),document.body.addEventListener("mouseup",this.boundOnZoomOut,{once:!0}),document.body.addEventListener("dragend",this.boundOnZoomOut,{once:!0});let u=Be();return rt(this.hoverEl),ke(this.hoverEl,"viewport",u),!1}registerZoomImageHandlers(){this.hoverEl.addClass("image-zoom"),this.boundOnZoomOut=this.onZoomOut.bind(this),this.hoverEl.on("mousedown","img",this.onZoomIn.bind(this))}togglePin(c){var u;c===void 0&&(c=!this.isPinned),c&&((u=this.abortController)==null||u.unload()),this.hoverEl.toggleClass("is-pinned",c),this.pinEl.toggleClass("is-active",c),this.isPinned=c}getDefaultMode(){var c,u;return((u=(c=this.parent)==null?void 0:c.view)==null?void 0:u.getMode)?this.parent.view.getMode():"preview"}updateLeaves(){this.onTarget&&this.targetEl&&!document.contains(this.targetEl)&&(this.onTarget=!1,this.transition());let c=0;this.plugin.app.workspace.iterateLeaves(u=>{c++},this.rootSplit),c===0?this.hide():c>1&&this.toggleConstrainAspectRatio(!1),this.hoverEl.setAttribute("data-leaf-count",c.toString())}get headerHeight(){let c=this.hoverEl;return this.titleEl.getBoundingClientRect().bottom-c.getBoundingClientRect().top}toggleMinimized(c){var b;let u=this.hoverEl,h=this.headerHeight;if(!u.hasAttribute("data-restore-height"))this.plugin.settings.rollDown&&Rn(u,!1),u.setAttribute("data-restore-height",String(u.offsetHeight)),u.style.minHeight=h+"px",u.style.maxHeight=h+"px",u.toggleClass("is-minimized",!0);else{let f=u.getAttribute("data-restore-height");f&&(u.removeAttribute("data-restore-height"),u.style.height=f+"px"),u.style.removeProperty("max-height"),u.toggleClass("is-minimized",!1),this.plugin.settings.rollDown&&Rn(u,!0)}(b=this.interact)==null||b.reflow({name:"drag",axis:"xy"})}attachLeaf(){this.rootSplit.getRoot=()=>this.plugin.app.workspace.rootSplit,this.titleEl.insertAdjacentElement("afterend",this.rootSplit.containerEl);let c=this.plugin.app.workspace.createLeafInParent(this.rootSplit,0);return this.updateLeaves(),c}onload(){super.onload(),this.registerEvent(this.plugin.app.workspace.on("layout-change",this.updateLeaves,this))}leaves(){let c=[];return this.plugin.app.workspace.iterateLeaves(u=>{c.push(u)},this.rootSplit),c}setInitialDimensions(){this.hoverEl.style.height=this.plugin.settings.initialHeight,this.hoverEl.style.width=this.plugin.settings.initialWidth}toggleViewHeader(c){var b;c===void 0&&(c=!this.hoverEl.hasClass("show-navbar")),(b=this.hideNavBarEl)==null||b.toggleClass("is-active",c),this.hoverEl.toggleClass("show-navbar",c);let u=this.hoverEl.querySelector(".view-header");if(!u)return;let h=parseFloat(getComputedStyle(u).getPropertyValue("--he-view-header-height"));this.hoverEl.style.transition="height 0.2s",c?this.hoverEl.style.height=parseFloat(this.hoverEl.style.height)+h+"px":this.hoverEl.style.height=parseFloat(this.hoverEl.style.height)-h+"px",setTimeout(()=>{this.hoverEl.style.removeProperty("transition")},200),this.requestLeafMeasure()}buildWindowControls(){this.titleEl=createDiv("popover-titlebar"),this.titleEl.createDiv("popover-title");let c=this.titleEl.createDiv("popover-actions"),u=this.hideNavBarEl=c.createEl("a","popover-action mod-show-navbar");(0,H.setIcon)(u,"sidebar-open",14),u.addEventListener("click",P=>{this.toggleViewHeader()}),this.plugin.settings.showViewHeader&&this.toggleViewHeader(!0);let h=c.createEl("a","popover-action mod-minimize");(0,H.setIcon)(h,"minus"),h.addEventListener("click",P=>{Xt(this.hoverEl),this.toggleMinimized()});let b=c.createEl("a","popover-action mod-maximize");(0,H.setIcon)(b,"maximize",14),b.addEventListener("click",P=>{if(this.hoverEl.hasClass("snap-to-viewport")){(0,H.setIcon)(b,"maximize",14),Xt(this.hoverEl);return}(0,H.setIcon)(b,"minimize",14);let S=Be();rt(this.hoverEl),ke(this.hoverEl,"viewport",S)});let f=c.createEl("a","popover-action mod-close");(0,H.setIcon)(f,"x"),f.addEventListener("click",P=>{this.hide()}),this.containerEl.prepend(this.titleEl)}requestLeafMeasure(){let c=this.leaves();c.length&&setTimeout(()=>{c.forEach(u=>u.onResize())},200)}onShow(){var u,h;let{closeDelay:c}=this.plugin.settings;setTimeout(()=>this.waitTime=c,c),(u=this.oldPopover)==null||u.hide(),this.oldPopover=null,this.hoverEl.toggleClass("is-new",!0),document.body.addEventListener("click",()=>{this.hoverEl.toggleClass("is-new",!1)},{once:!0,capture:!0}),this.parent&&(this.parent.hoverPopover=this),this.togglePin(this.isPinned),(h=this.onShowCallback)==null||h.call(this),this.onShowCallback=void 0}startBounce(){this.bounce=setTimeout(()=>{this.hoverEl.style.left=parseFloat(this.hoverEl.style.left)+this.xspeed+"px",this.hoverEl.style.top=parseFloat(this.hoverEl.style.top)+this.yspeed+"px",this.checkHitBox(),this.startBounce()},20)}toggleBounce(){if(this.xspeed=7,this.yspeed=7,this.bounce){clearTimeout(this.bounce),this.bounce=void 0;let c=this.hoverEl.querySelector(".view-content");(c==null?void 0:c.style)&&c.style.removeProperty("backgroundColor")}else this.startBounce()}checkHitBox(){let c=parseFloat(this.hoverEl.style.left),u=parseFloat(this.hoverEl.style.top),h=parseFloat(this.hoverEl.style.width),b=parseFloat(this.hoverEl.style.height);(c<=0||c+h>=document.body.offsetWidth)&&(this.xspeed*=-1,this.pickColor()),(u<=0||u+b>=document.body.offsetHeight)&&(this.yspeed*=-1,this.pickColor())}pickColor(){let c=Math.random()*(254-0)+0,u=Math.random()*(254-0)+0,h=Math.random()*(254-0)+0,b=this.hoverEl.querySelector(".view-content");(b==null?void 0:b.style)&&(b.style.backgroundColor="rgb("+c+","+u+", "+h+")")}transition(){this.shouldShow()?this.state===H.PopoverState.Hiding&&(this.state=H.PopoverState.Shown,clearTimeout(this.timer)):this.state===H.PopoverState.Showing?this.hide():this.state===H.PopoverState.Shown&&(this.state=H.PopoverState.Hiding,this.timer=window.setTimeout(()=>{this.shouldShow()?this.transition():this.hide()},this.waitTime))}detect(c){let{targetEl:u,hoverEl:h}=this;u&&(this.onTarget=c===u||u.contains(c)),this.onHover=c===h||h.contains(c)}_onMouseIn(c){this.targetEl&&!Ut(c,this.targetEl)||(this.onTarget=!0,this.transition())}_onMouseOut(c){this.targetEl&&!Ut(c,this.targetEl)||(this.onTarget=!1,this.transition())}position(c){c===void 0&&(c=this.shownPos);let u;if(c)u={top:c.y-10,bottom:c.y+10,left:c.x,right:c.x};else if(this.targetEl){let h=ma(this.targetEl,document.body);u={top:h.top,bottom:h.top+this.targetEl.offsetHeight,left:h.left,right:h.left+this.targetEl.offsetWidth}}else u={top:0,bottom:0,left:0,right:0};document.body.appendChild(this.hoverEl),ga(u,this.hoverEl,{gap:10}),c&&setTimeout(()=>{let h=parseFloat(this.hoverEl.style.left),b=parseFloat(this.hoverEl.style.top);this.hoverEl.setAttribute("data-x",String(h)),this.hoverEl.setAttribute("data-y",String(b))},0)}shouldShow(){return this.shouldShowSelf()||this.shouldShowChild()}shouldShowChild(){return Z.activePopovers().some(c=>c!==this&&c.targetEl&&this.hoverEl.contains(c.targetEl)?c.shouldShow():!1)}shouldShowSelf(){return!this.detaching&&!!(this.onTarget||this.onHover||this.state==H.PopoverState.Shown&&this.isPinned||document.querySelector(`body>.modal-container, body > #he${this.id} ~ .menu`))}calculateMinSize(){return{width:40,height:this.headerHeight}}calculateMaxSize(c,u,h){let b=h.pointerType==="reflow"?document.body.offsetWidth/1.5:document.body.offsetWidth,f=h.pointerType==="reflow"?document.body.offsetHeight/1.5:document.body.offsetHeight;return{width:b,height:f}}toggleConstrainAspectRatio(c,u){let h=this.resizeModifiers.find(b=>b.name=="aspectRatio");!h||(c===void 0&&(c=!h.options.enabled),c?(h.enable(),this.constrainAspectRatio=!0,u!==void 0&&h.options.ratio!==u&&(h.options.ratio=u)):(h.disable(),this.constrainAspectRatio=!1))}registerInteract(){var A,X;let c=this.plugin.app.dom.appContainerEl,u=this,h=function(O,q,V){let{top:B,right:j,bottom:z,left:te,x:ue,y:G,width:ne,height:Kt}=c.getBoundingClientRect(),C={top:B,right:j,bottom:z,left:te,x:ue,y:G,width:ne,height:Kt};return V.pointerType==="reflow"?u.dragElementRect.bottom=1:u.dragElementRect.bottom=0,u.plugin.settings.snapToEdges&&(C.top=B-30),C.bottom=z-u.headerHeight,C},b=!0,f,P=((A=this.hoverEl.dataset)==null?void 0:A.imgRatio)?parseFloat((X=this.hoverEl.dataset)==null?void 0:X.imgRatio):void 0;this.resizeModifiers=[Xe.default.modifiers.restrictEdges({outer:c}),Xe.default.modifiers.restrictSize({min:u.calculateMinSize.bind(this),max:u.calculateMaxSize.bind(this)}),Xe.default.modifiers.aspectRatio({ratio:P||"preserve",enabled:!1})],this.dragElementRect={top:0,left:1,bottom:0,right:0};let S=[Xe.default.modifiers.restrict({restriction:h,offset:{top:0,left:40,bottom:0,right:40},elementRect:this.dragElementRect,endOnly:!1})];this.constrainAspectRatio&&P!==void 0&&this.toggleConstrainAspectRatio(!0,P);let I=(0,Xe.default)(this.hoverEl).preventDefault("always").on("doubletap",this.onDoubleTap.bind(this)).draggable({modifiers:S,allowFrom:".popover-titlebar",listeners:{start(O){O.buttons&&u.togglePin(!0),O.buttons&&O.target instanceof HTMLElement&&O.target.addClass("is-dragging")},end(O){O.target instanceof HTMLElement&&O.target.removeClass("is-dragging")},move:bi.bind(u)}}).resizable({edges:{top:".top-left, .top-right, .top",left:".top-left, .bottom-left, .left",bottom:".bottom-left, .bottom-right, .bottom",right:".top-right, .bottom-right, .right"},modifiers:this.resizeModifiers,listeners:{start(O){var j;O.target.style.removeProperty("max-height");let V=(j=u.hoverEl.querySelector(".view-header"))==null?void 0:j.offsetHeight;f=u.titleEl.offsetHeight+V,b=!0,O.buttons&&u.togglePin(!0)},move:function(O){var te,ue;if(!(O==null?void 0:O.deltaRect)||!O.edges)return;let{target:q}=O,{x:V,y:B}=q.dataset,j=O.rect.height,z=O.rect.width;V=V||q.style.left,B=B||q.style.top,V=String((parseFloat(V)||0)+((te=O.deltaRect)==null?void 0:te.left)),B=String((parseFloat(B)||0)+((ue=O.deltaRect)==null?void 0:ue.top)),u.constrainAspectRatio&&P&&O.buttons!==void 0?(b&&(O.edges.top&&(O.edges.right||O.edges.left)?B=String(parseFloat(B)-f):O.edges.top?V=String(parseFloat(V)+f*P):O.edges.left&&!(O.edges.top||O.edges.bottom)&&(B=String(parseFloat(B)-f))),b=!1,(O.edges.top&&!(O.edges.right||O.edges.left)||O.edges.bottom&&!(O.edges.right||O.edges.left))&&(j=j-f,z=z-f*P),j=j+f,(q.hasClass("snap-to-left")||q.hasClass("snap-to-right"))&&(B=String(parseFloat(q.style.top)),V=String(parseFloat(q.style.left)))):P&&j>document.body.offsetHeight&&(j=j/1.5,z=j*P),Object.assign(q.style,{width:`${z}px`,height:`${j}px`,top:`${B}px`,left:V==="NaN"?"unset":`${V}px`}),Object.assign(q.dataset,{x:V,y:B})},end:function(O){if(O.buttons===void 0){let q=parseFloat(O.target.style.height)+f;O.target.style.height=q+"px"}O.rect.height>u.headerHeight&&O.target.removeAttribute("data-restore-height"),I.reflow({name:"drag",axis:"xy"})}}});this.interact=I}createResizeHandles(){this.hoverEl.createDiv("resize-handle bottom-left"),this.hoverEl.createDiv("resize-handle bottom-right"),this.hoverEl.createDiv("resize-handle top-left"),this.hoverEl.createDiv("resize-handle top-right"),this.hoverEl.createDiv("resize-handle right"),this.hoverEl.createDiv("resize-handle left"),this.hoverEl.createDiv("resize-handle bottom"),this.hoverEl.createDiv("resize-handle top")}onDoubleTap(c){c.target.tagName==="DIV"&&c.target.closest(".popover-titlebar")&&(c.preventDefault(),this.togglePin(!0),this.toggleMinimized())}show(){var c,u;!this.targetEl||document.body.contains(this.targetEl)?(this.state=H.PopoverState.Shown,this.timer=0,this.shownPos=qt,this.position(qt),document.removeEventListener("mousemove",st),this.onShow(),this.load()):this.hide(),this.hoverEl.dataset.imgHeight&&this.hoverEl.dataset.imgWidth&&(this.hoverEl.style.height=parseFloat(this.hoverEl.dataset.imgHeight)+this.titleEl.offsetHeight+"px",this.hoverEl.style.width=parseFloat(this.hoverEl.dataset.imgWidth)+"px"),this.registerInteract(),(c=this.interact)==null||c.reflow({name:"resize",edges:{right:!0,bottom:!0}}),(u=this.interact)==null||u.reflow({name:"drag",axis:"xy"})}onHide(){var c;this.oldPopover=null,((c=this.parent)==null?void 0:c.hoverPopover)===this&&(this.parent.hoverPopover=null)}hide(){var u,h;if(this.onTarget=this.onHover=!1,this.isPinned=!1,this.detaching=!0,document.removeEventListener("mousemove",st),this.timer&&(clearTimeout(this.timer),this.timer=0),this.hoverEl.hide(),this.opening)return;let c=this.leaves();if(c.length)c.forEach(b=>b.detach());else return this.parent=null,((u=this.interact)==null?void 0:u.unset)&&this.interact.unset(),(h=this.abortController)==null||h.unload(),this.abortController=void 0,this.interact=void 0,this.nativeHide()}nativeHide(){var h;let{hoverEl:c,targetEl:u}=this;if(this.state=H.PopoverState.Hidden,c.detach(),u){let b=u.matchParent(".hover-popover");b&&((h=Yt.get(b))==null||h.transition()),u.removeEventListener("mouseover",this.onMouseIn),u.removeEventListener("mouseout",this.onMouseOut)}this.onHide(),this.unload()}resolveLink(c,u){let h=(0,H.parseLinktext)(c);return h?this.plugin.app.metadataCache.getFirstLinkpathDest(h.path,u):null}async openLink(c,u,h,b){var V,B,j;let f=this.resolveLink(c,u),P=(0,H.parseLinktext)(c);if(!f&&b){let z=this.plugin.app.fileManager.getNewFileParent(u);f=await this.plugin.app.fileManager.createNewMarkdownFile(z,P.path)}if(!f){this.displayCreateFileAction(c,u,h);return}let{viewRegistry:S}=this.plugin.app,I=S.typeByExtension[f.extension];if(!I||!S.viewByType[I]){this.displayOpenFileAction(f);return}h=Object.assign(this.buildEphemeralState(f,P),h);let A=this.getDefaultMode(),X=this.buildState(A,h),O=await this.openFile(f,X),q=(V=O==null?void 0:O.view)==null?void 0:V.getViewType();if(q==="image"){this.plugin.settings.autoFocus&&((B=this.parent)==null?void 0:B.hasOwnProperty("editorEl"))&&this.parent.editorEl.hasClass("is-live-preview")&&(this.waitTime=3e3),this.constrainAspectRatio=!0;let z=O.view.contentEl.querySelector("img");this.hoverEl.dataset.imgHeight=String(z.naturalHeight),this.hoverEl.dataset.imgWidth=String(z.naturalWidth),this.hoverEl.dataset.imgRatio=String(z.naturalWidth/z.naturalHeight)}else q==="pdf"&&(this.hoverEl.style.height="800px",this.hoverEl.style.width="600px");((j=X.state)==null?void 0:j.mode)==="source"&&setTimeout(()=>{var z;this.detaching||(z=O==null?void 0:O.view)==null||z.setEphemeralState(X.eState)},this.plugin.settings.triggerDelay)}displayOpenFileAction(c){let h=this.attachLeaf().view;h.emptyTitleEl.hide(),h.actionListEl.empty();let{actionListEl:b}=h;b.createDiv({cls:"file-embed-title"},f=>{f.createSpan({cls:"file-embed-icon"},P=>(0,H.setIcon)(P,"document",22)),f.appendText(" "+c.name)}),b.addEventListener("click",()=>this.plugin.app.openWithDefaultApp(c.path)),b.setAttribute("aria-label",i18next.t("interface.embed-open-in-default-app-tooltip"))}displayCreateFileAction(c,u,h){var P,S,I;let f=this.attachLeaf().view;if(f){(P=f.emptyTitleEl)==null||P.hide(),(S=f.actionListEl)==null||S.empty();let A=(I=f.actionListEl)==null?void 0:I.createEl("button","empty-state-action");if(!A)return;A.textContent=`${c} is not yet created. Click to create.`,this.plugin.settings.autoFocus&&setTimeout(()=>{A==null||A.focus()},200),A.addEventListener("click",async()=>{this.togglePin(!0),await this.openLink(c,u,h,!0)},{once:!0})}}async openFile(c,u){var b,f,P;if(this.detaching)return;let h=this.attachLeaf();this.opening=!0;try{if(await h.openFile(c,u),this.plugin.settings.autoFocus&&!this.detaching){let S=this.onShowCallback;this.onShowCallback=()=>{this.plugin.app.workspace.setActiveLeaf(h,!1,!0),setTimeout(ce(H.Workspace.prototype,{recordMostRecentOpenedFile(A){return function(X){if(X!==c)return A.call(this,X)}}}),1);let I=this.plugin.app.plugins.plugins["recent-files-obsidian"];I&&setTimeout(ce(I,{shouldAddFile(A){return function(X){return X!==c&&A.call(this,X)}}}),1),S instanceof Function&&S()},this.state===H.PopoverState.Shown&&(this.onShowCallback(),this.onShowCallback=void 0)}else if(!this.plugin.settings.autoFocus&&!this.detaching){let S=this.hoverEl.querySelector(".popover-title");if(!S)return;S.textContent=(b=h.view)==null?void 0:b.getDisplayText(),S.setAttribute("data-path",(P=(f=h.view)==null?void 0:f.file)==null?void 0:P.path)}}catch(S){console.error(S)}finally{this.opening=!1,this.detaching&&this.hide()}return h}buildState(c,u){return{state:{mode:this.plugin.settings.defaultMode==="match"?c:this.plugin.settings.defaultMode},eState:u}}buildEphemeralState(c,u){let h=this.plugin.app.metadataCache.getFileCache(c),b=h?(0,H.resolveSubpath)(h,(u==null?void 0:u.subpath)||""):void 0,f={subpath:u==null?void 0:u.subpath};return b&&(f.line=b.start.line,f.startLoc=b.start,f.endLoc=b.end||void 0),f}};function at(m){return!!Z.forLeaf(m)}function ga(m,c,u){u=u||{},c.show();let h=u.gap||0,b=u.preference||"bottom",f=u.offsetParent||c.offsetParent||document.documentElement,P=u.horizontalAlignment||"left",S=f.scrollTop+10,I=f.scrollTop+f.clientHeight-10,A=Math.min(m.top,I),X=Math.max(m.bottom,S),O=c.offsetHeight,q=m.top-S>=O+h,V=I-m.bottom>=O+h,B=0,j="";!q||b!=="top"&&V?!V||b!=="bottom"&&q?f.clientHeight<O+h?(B=S,j="overlap"):b==="top"?(B=S+h,j="overlap"):(B=I-O,j="overlap"):(B=X+h,j="bottom"):(B=A-h-O,j="top");let z=f.scrollLeft+10,te=f.scrollLeft+f.clientWidth-10,ue=c.offsetWidth,G=P==="left"?m.left:m.right-ue;return G<z?G=z:G>te-ue&&(G=te-ue),c.style.top="".concat(B.toString(),"px"),c.style.left="".concat(G.toString(),"px"),{top:B,left:G,vresult:j}}function ma(m,c){let u=0,h=0;for(let b=c?c.offsetParent:null;m&&m!==c&&m!==b;){u+=m.offsetTop,h+=m.offsetLeft;let f=m.offsetParent;for(let P=m.parentElement;P&&P!==f;)u-=P.scrollTop,h-=P.scrollLeft,P=P.parentElement;f&&f!==c&&f!==b&&(u-=f.scrollTop,h-=f.scrollLeft),m=f}return{top:u,left:h}}function st(m){qt={x:m.clientX,y:m.clientY}}function Ut(m,c){let u=m.relatedTarget;return!(u instanceof Node&&c.contains(u))}function Pi(m,c){return!!(m&&c&&m.right>c.left&&m.left<c.right&&m.bottom>c.top&&m.top<c.bottom)}var Gt=new WeakMap;function Mi(m,c,u,h,b,f,...P){u&&u.matches('.workspace-leaf-content[data-type="calendar"] table.calendar td > div')&&(u=u.parentElement);let S=Gt.has(u)?Gt.get(u):c.hoverPopover;if(S==null?void 0:S.lockedOut)return;if(S&&S.state!==$t.PopoverState.Hidden&&(!S.isPinned||m.settings.autoPin==="always")&&S.targetEl!==null&&S.originalLinkText===h&&S.originalPath===b&&u&&S.adopt(u))Gt.set(u,S);else{let A=new Z(c,u,m,m.settings.triggerDelay);u&&Gt.set(u,A),A.originalLinkText=h,A.originalPath=b,c.hoverPopover=A;let X=A.abortController,O=function(){!A||(A.lockedOut=!1)},q=function(V){!A||V.target instanceof HTMLElement&&!V.target.closest(".hover-editor, .menu")&&(A.state=$t.PopoverState.Hidden,A.hide(),A.lockedOut=!0,setTimeout(O,1e3))};document.body.addEventListener("mousedown",q,!0),X.register(()=>document.body.removeEventListener("mousedown",q,!0)),setTimeout(()=>{(A==null?void 0:A.state)!=$t.PopoverState.Hidden&&(A==null||A.openLink(h,b,f))},100)}}var ie=it(require("obsidian"));function zn(m){let c=ki(),[u,h]=c(m);if(!u)return!1;if(h||(h="px"),["em","ex","ch","rem","vw","vh","vmin","vmax","%","cm","mm","in","px","pt","pc"].contains(h))return u+h}var Zt={defaultMode:"preview",autoPin:"onMove",triggerDelay:300,closeDelay:600,autoFocus:!0,rollDown:!1,snapToEdges:!1,initialHeight:"340px",initialWidth:"400px",showViewHeader:!1,imageZoom:!0},ya={preview:"Reading view",source:"Editing view",match:"Match current view"},ba={onMove:"On drag or resize",always:"Always"},Fn=class extends ie.PluginSettingTab{constructor(c,u){super(c,u);this.plugin=u}hide(){}display(){let{containerEl:c}=this;c.empty(),new ie.Setting(c).setName("Default Mode").addDropdown(u=>{u.addOptions(ya),u.setValue(this.plugin.settings.defaultMode),u.onChange(async h=>{this.plugin.settings.defaultMode=h,await this.plugin.saveSettings()})}),new ie.Setting(c).setName("Auto Pin").addDropdown(u=>{u.addOptions(ba),u.setValue(this.plugin.settings.autoPin),u.onChange(async h=>{this.plugin.settings.autoPin=h,await this.plugin.saveSettings()})}),new ie.Setting(c).setName("Auto Focus").setDesc("Set the hover editor as the active pane when opened").addToggle(u=>u.setValue(this.plugin.settings.autoFocus).onChange(h=>{this.plugin.settings.autoFocus=h,this.plugin.saveSettings()})),new ie.Setting(c).setName("Minimize downwards").setDesc("When double clicking to minimize, the window will roll down instead of rolling up").addToggle(u=>u.setValue(this.plugin.settings.rollDown).onChange(h=>{this.plugin.settings.rollDown=h,this.plugin.saveSettings()})),new ie.Setting(c).setName("Snap to edges").setDesc(`Quickly arrange popovers by dragging them to the edges of the screen. The left and right edges 
        will maximize the popover vertically. The top edge will maximize the popover to fill the entire 
        screen. Dragging the popovers away from the edges will restore the popver to its original size.`).addToggle(u=>u.setValue(this.plugin.settings.snapToEdges).onChange(h=>{this.plugin.settings.snapToEdges=h,this.plugin.saveSettings()})),new ie.Setting(c).setName("Show view header by default").setDesc(`Show the view header by default when triggering a hover editor.
         When disabled, view headers will only show if you click the view header icon to the left of the minimize button.`).addToggle(u=>u.setValue(this.plugin.settings.showViewHeader).onChange(h=>{this.plugin.settings.showViewHeader=h,this.plugin.saveSettings()})),new ie.Setting(c).setName("Click to zoom image").setDesc(`Click and hold an image within a hover editor to temporarily maximize the popover and image to fill the entire viewport. 
        On mouse up, the hover editor will restore to its original size.`).addToggle(u=>u.setValue(this.plugin.settings.imageZoom).onChange(h=>{this.plugin.settings.imageZoom=h,this.plugin.saveSettings()})),new ie.Setting(c).setName("Initial popover width").setDesc("Enter any valid CSS unit").addText(u=>{u.setPlaceholder(this.plugin.settings.initialWidth),u.inputEl.type="text",u.setValue(this.plugin.settings.initialWidth),u.onChange(async h=>{h=zn(h),h||(h=Zt.initialWidth),this.plugin.settings.initialWidth=h,this.plugin.saveSettings()})}),new ie.Setting(c).setName("Initial popover height").setDesc("Enter any valid CSS unit").addText(u=>{u.setPlaceholder(String(this.plugin.settings.initialHeight)),u.inputEl.type="text",u.setValue(String(this.plugin.settings.initialHeight)),u.onChange(async h=>{h=zn(h),h||(h=Zt.initialHeight),this.plugin.settings.initialHeight=h,this.plugin.saveSettings()})}),new ie.Setting(c).setName("Hover Trigger Delay (ms)").setDesc("How long to wait before showing a Hover Editor when hovering over a link").addText(u=>{u.setPlaceholder(String(this.plugin.settings.triggerDelay)),u.inputEl.type="number",u.setValue(String(this.plugin.settings.triggerDelay)),u.onChange(async h=>{this.plugin.settings.triggerDelay=Number(h),this.plugin.saveSettings()})}),new ie.Setting(c).setName("Hover Close Delay (ms)").setDesc("How long to wait before closing a Hover Editor once the mouse leaves").addText(u=>{u.setPlaceholder(String(this.plugin.settings.closeDelay)),u.inputEl.type="number",u.setValue(String(this.plugin.settings.closeDelay)),u.onChange(async h=>{this.plugin.settings.closeDelay=Number(h),this.plugin.saveSettings()})})}};var Wn=class extends K.Plugin{constructor(){super(...arguments);this.debouncedPopoverReflow=(0,K.debounce)(()=>{Z.activePopovers().forEach(c=>{var u;(u=c.interact)==null||u.reflow({name:"drag",axis:"xy"})})},100,!0)}async onload(){this.registerActivePopoverHandler(),this.registerFileRenameHandler(),this.registerViewportResizeHandler(),this.registerContextMenuHandler(),this.registerCommands(),this.patchUnresolvedGraphNodeHover(),this.patchWorkspace(),this.patchQuickSwitcher(),this.patchWorkspaceLeaf(),this.patchItemView(),await this.loadSettings(),this.registerSettingsTab(),this.app.workspace.onLayoutReady(()=>{this.patchSlidingPanes(),this.patchLinkHover(),setTimeout(()=>{this.app.workspace.trigger("css-change")},2e3)})}get activePopovers(){return Z.activePopovers()}patchWorkspaceLeaf(){this.register(ce(K.WorkspaceLeaf.prototype,{getRoot(c){return function(){let u=c.call(this);return u.getRoot===this.getRoot?u:u.getRoot()}},onResize(c){return function(){var u;(u=this.view)==null||u.onResize()}},setViewState(c){return async function(u,h){var f,P,S;let b=await c.call(this,u,h);try{let I=Z.forLeaf(this);if(I){u.type&&I.hoverEl.setAttribute("data-active-view-type",u.type);let A=I.hoverEl.querySelector(".popover-title");A&&(A.textContent=(f=this.view)==null?void 0:f.getDisplayText(),((S=(P=this.view)==null?void 0:P.file)==null?void 0:S.path)?A.setAttribute("data-path",this.view.file.path):A.removeAttribute("data-path"))}}catch(I){}return b}},setEphemeralState(c){return function(u){var h;c.call(this,u),u.focus&&((h=this.view)==null?void 0:h.getViewType())==="empty"&&(this.view.contentEl.tabIndex=-1,this.view.contentEl.focus())}}}))}patchQuickSwitcher(){let c=this,{QuickSwitcherModal:u}=this.app.internalPlugins.plugins.switcher.instance,h=ce(u.prototype,{open(b){return function(){let f=b.call(this);return this.setInstructions([{command:K.Platform.isMacOS?"cmd p":"ctrl p",purpose:"to open in new popover"}]),this.scope.register(["Mod"],"p",P=>{this.close();let S=this.chooser.values[this.chooser.selectedItem];if(!(S==null?void 0:S.file))return;let I=c.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(I,!1,!0));return I.openFile(S.file),!1}),f}}});this.register(h)}patchItemView(){let c=this,u=ce(K.ItemView.prototype,{onMoreOptionsMenu(h){return function(b,...f){return(this.leaf?Z.forLeaf(this.leaf):void 0)?b.addItem(S=>{S.setIcon("popup-open").setTitle("Dock Hover Editor to workspace").onClick(()=>{c.dockPopoverToWorkspace(this.leaf)})}):(b.addItem(S=>{S.setIcon("popup-open").setTitle("Open in Hover Editor").onClick(()=>{var A;let I=c.spawnPopover();((A=this.leaf)==null?void 0:A.getViewState)&&I.setViewState(this.leaf.getViewState())})}),b.addItem(S=>{S.setIcon("popup-open").setTitle("Convert to Hover Editor").onClick(()=>{c.convertLeafToPopover(this.leaf)})})),h.call(this,b,...f)}}});this.register(u)}patchWorkspace(){let c=ce(K.Workspace.prototype,{recordHistory(u){return function(h,b,...f){var S;if(!(!((S=this.app.plugins.plugins["pane-relief"])==null?void 0:S._loaded)&&at(h)))return u.call(this,h,b,...f)}},iterateAllLeaves(u){return function(h){this.iterateRootLeaves(h),this.iterateLeaves(h,this.leftSplit),this.iterateLeaves(h,this.rightSplit)}},iterateRootLeaves(u){return function(h){return u.call(this,h)||Z.iteratePopoverLeaves(this,h)}},getDropLocation(u){return function(b){for(let f of Z.activePopovers()){let P=this.recursiveGetTarget(b,f.rootSplit);if(P)return{target:P,sidedock:!1}}return u.call(this,b)}},onDragLeaf(u){return function(h,b){let f=Z.forLeaf(b);return f==null||f.togglePin(!0),u.call(this,h,b)}}});this.register(c)}patchSlidingPanes(){var u;let c=(u=this.app.plugins.plugins["sliding-panes-obsidian"])==null?void 0:u.constructor;if(c){let h=ce(c.prototype,{handleFileOpen(b){return function(...f){if(!at(this.app.workspace.activeLeaf))return b.call(this,...f)}},handleLayoutChange(b){return function(...f){if(!at(this.app.workspace.activeLeaf))return b.call(this,...f)}},focusActiveLeaf(b){return function(...f){if(!at(this.app.workspace.activeLeaf))return b.call(this,...f)}}});this.register(h)}}patchLinkHover(){let c=this,u=this.app.internalPlugins.plugins["page-preview"];if(!u.enabled)return;let h=ce(u.instance.constructor.prototype,{onHoverLink(b){return function(f,...P){return f&&f.event instanceof MouseEvent&&st(f.event),b.call(this,f,...P)}},onLinkHover(b){return function(f,P,S,I,A,...X){Mi(c,f,P,S,I,A,...X)}}});this.register(h),u.disable(),u.enable(),c.register(function(){!u.enabled||(u.disable(),u.enable())})}registerContextMenuHandler(){this.registerEvent(this.app.workspace.on("file-menu",(c,u,h,b)=>{let f=b?Z.forLeaf(b):void 0;u instanceof K.TFile&&!f&&!b&&c.addItem(P=>{P.setIcon("popup-open").setTitle("Open in Hover Editor").onClick(()=>{this.spawnPopover().openFile(u)})})}))}registerActivePopoverHandler(){this.registerEvent(this.app.workspace.on("active-leaf-change",c=>{var h,b,f,P,S;(h=document.querySelector("body > .popover.hover-popover.is-active"))==null||h.removeClass("is-active");let u=c?Z.forLeaf(c):void 0;if(u&&c){u.hoverEl.addClass("is-active");let I=u.hoverEl.querySelector(".popover-title");if(!I)return;I.textContent=(b=c.view)==null?void 0:b.getDisplayText(),((f=c==null?void 0:c.view)==null?void 0:f.getViewType())&&u.hoverEl.setAttribute("data-active-view-type",c.view.getViewType()),((S=(P=c.view)==null?void 0:P.file)==null?void 0:S.path)?I.setAttribute("data-path",c.view.file.path):I.removeAttribute("data-path")}}))}registerFileRenameHandler(){this.app.vault.on("rename",(c,u)=>{Z.iteratePopoverLeaves(this.app.workspace,h=>{var b,f;if(c===((b=h==null?void 0:h.view)==null?void 0:b.file)&&c instanceof K.TFile){let P=Z.forLeaf(h);if(P==null?void 0:P.hoverEl){let S=P.hoverEl.querySelector(".popover-title");if(!S)return;let I=S.getAttribute("data-path");u===I&&(S.textContent=(f=h.view)==null?void 0:f.getDisplayText(),S.setAttribute("data-path",c.path))}}})})}registerViewportResizeHandler(){window.addEventListener("resize",this.debouncedPopoverReflow),this.register(()=>{window.removeEventListener("resize",this.debouncedPopoverReflow)})}patchUnresolvedGraphNodeHover(){var f,P;let c=new K.WorkspaceLeaf(this.app),u=this.app.internalPlugins.plugins.graph.views.localgraph(c),h=u.engine.constructor;c.detach(),(P=(f=u.renderer)==null?void 0:f.worker)==null||P.terminate();let b=ce(h.prototype,{onNodeHover(S){return function(I,A,X,...O){if(X==="unresolved"){if(this.onNodeUnhover(),I instanceof MouseEvent){if(this.hoverPopover&&this.hoverPopover.state!==K.PopoverState.Hidden&&this.lastHoverLink===A)return this.hoverPopover.onTarget=!0,void this.hoverPopover.transition();this.lastHoverLink=A,this.app.workspace.trigger("hover-link",{event:I,source:"graph",hoverParent:this,targetEl:null,linktext:A})}}else return S.call(this,I,A,X,...O)}}});this.register(b),c.detach()}onunload(){Z.activePopovers().forEach(c=>c.hide())}async loadSettings(){this.settings=Object.assign({},Zt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerCommands(){this.addCommand({id:"bounce-popovers",name:"Toggle bouncing popovers",callback:()=>{this.activePopovers.forEach(c=>{c.toggleBounce()})}}),this.addCommand({id:"open-new-popover",name:"Open new Hover Editor",callback:()=>{let c=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(c,!1,!0))}}),this.addCommand({id:"open-link-in-new-popover",name:"Open link under cursor in new Hover Editor",checkCallback:c=>{let u=this.app.workspace.getActiveViewOfType(K.MarkdownView);if(u){if(!c){let h=u.editor.getClickableTokenAt(u.editor.getCursor());if((h==null?void 0:h.type)==="internal-link"){let b=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(b,!1,!0));b.openLinkText(h.text,u.file.path)}}return!0}return!1}}),this.addCommand({id:"open-current-file-in-new-popover",name:"Open current file in new Hover Editor",checkCallback:c=>{let u=this.app.workspace.getActiveViewOfType(K.MarkdownView);if(u){if(!c){let h=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(h,!1,!0));h.openFile(u.file)}return!0}return!1}}),this.addCommand({id:"convert-active-pane-to-popover",name:"Convert active pane to Hover Editor",checkCallback:c=>{let{activeLeaf:u}=this.app.workspace;return u?(c||this.convertLeafToPopover(u),!0):!1}}),this.addCommand({id:"dock-active-popover-to-workspace",name:"Dock active Hover Editor to workspace",checkCallback:c=>{let{activeLeaf:u}=this.app.workspace;return u&&Z.forLeaf(u)?(c||this.dockPopoverToWorkspace(u),!0):!1}}),this.addCommand({id:"restore-active-popover",name:"Restore active Hover Editor",checkCallback:c=>xi(c)}),this.addCommand({id:"minimize-active-popover",name:"Minimize active Hover Editor",checkCallback:c=>Si(c)}),wi.forEach(c=>{this.addCommand({id:`snap-active-popover-to-${c}`,name:`Snap active Hover Editor to ${c}`,checkCallback:u=>Ei(c,u)})})}convertLeafToPopover(c){if(!c)return;let u=this.spawnPopover(void 0,()=>{let{parentSplit:h}=u,{parentSplit:b}=c;b.removeChild(c),h.replaceChild(0,c,!0),this.app.workspace.setActiveLeaf(c,!1,!0)});return u}dockPopoverToWorkspace(c){if(!!c)return c.parentSplit.removeChild(c),this.app.workspace.rootSplit.insertChild(-1,c),c}spawnPopover(c,u){let h=this.app.workspace.activeLeaf;c||(c=h.containerEl);let b=new Z(h,c,this,void 0,u);return b.togglePin(!0),b.attachLeaf()}registerSettingsTab(){this.settingsTab=new Fn(this.app,this),this.addSettingTab(this.settingsTab)}};function Hn(m){let c=[];for(let u=0;u<m;u++)c.push((16*Math.random()|0).toString(16));return c.join("")}
